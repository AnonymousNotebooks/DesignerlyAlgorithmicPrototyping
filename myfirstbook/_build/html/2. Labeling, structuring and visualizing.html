

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>2. Labeling, structuring and visualizing the data &#8212; Designerly Algorithmic Prototyping | Notebooks</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '2. Labeling, structuring and visualizing';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Assigning weights" href="3.%20Assigning%20weights.html" />
    <link rel="prev" title="1. Collecting relevant data" href="1.%20Collecting%20relevant%20data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="0.%20introjupy.html">
  
  
  
  
  
  
    <p class="title logo__title">Designerly Algorithmic Prototyping | Notebooks</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="0.%20introjupy.html">
                    Designerly Algorithmic Prototyping | Notebooks
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="1.%20Collecting%20relevant%20data.html">1. Collecting relevant data</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Labeling, structuring and visualizing the data</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.%20Assigning%20weights.html">3. Assigning weights</a></li>
<li class="toctree-l1"><a class="reference internal" href="4.%20Generating%20and%20filtering.html">4. Generating and filtering</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F2. Labeling, structuring and visualizing.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/2. Labeling, structuring and visualizing.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>2. Labeling, structuring and visualizing the data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#labeling-and-structuring">2.1. Labeling and structuring</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">Import libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#load-and-view-data">Load and view data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recode-variables">2.1.1. Recode variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-the-final-dataframe-as-a-new-csv-file">2.1.2. Save the final dataframe as a new csv file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing">2.2. Visualizing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#days">2.2.1. DAYS</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#is-there-a-correlation-between-day-of-week-and-week">Is there a correlation between day (of week) and week?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#can-we-check-whether-shopping-days-are-predictable-over-longer-time-periods">Can we check whether shopping days are predictable over longer time periods?</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grid-for-dow-week-descriptions">Grid for dow/week &amp; descriptions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-randomized-weeks">Generate randomized weeks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#store-type-name">2.2.2. STORE TYPE/NAME</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-correlation-per-store-type">check correlation per store TYPE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-correlation-per-store-name">check correlation per store NAME</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualize-stores-per-day-all">Visualize stores per day (ALL)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">CONCLUSION</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#time">2.2.3. TIME</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Load and view data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#day-vs-time-all-orders">2.2.3.1 DAY vs TIME (all orders)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-check-continuous-time-vs-day">Let’s try check continuous time vs day</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-afternoon-and-evening-as-one-group">Let’s try afternoon and evening as one group</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-grouping-weekdays-and-weekends">Let’s try grouping weekdays and weekends</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#day-vs-time-specified-store">2.2.3.2 DAY VS TIME @ SPECIFIED STORE</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#now-that-we-know-which-store-we-select-the-correct-store">Now that we know which store, we select the correct store</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-store-type">Let’s try store type</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#significant-for-store-type-week-weekend-3cat">Significant for store type @ week/weekend @3cat</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-dataframes-per-day">2.2.3.3. New Dataframes per day</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#revising-the-flow-time-after-store-name-defined-day">REVISING THE FLOW – TIME AFTER STORE NAME DEFINED (+ day)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#store-name-vs-time-all-orders">2.2.3.4. STORE NAME vs TIME (all orders)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-specified-days">For specified days</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">CONCLUSION</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#if-they-go-to-store-x-on-day-y-at-x-time-morning-noon-afternoon">If they go to store X (on day Y) =&gt; at X time (morning, noon, afternoon)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categories">2.2.4. CATEGORIES</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Load and view data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#general-correlations-time-day-storetype-name">2.2.4.1. GENERAL CORRELATIONS: time/day/storetype-name</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-1-categories-vs-time">CORRELATION 1: categories vs time</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-2-categories-vs-day">CORRELATION 2: categories vs day</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-3-categories-vs-store">CORRELATION 3: categories vs store</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#categories-vs-store-type">categories vs store type</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#categories-vs-store-name">categories vs store name</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-5-categories-vs-week-amounts">CORRELATION 5: categories vs week(amounts)</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#are-they-comparable-per-period-before-and-after-ny">Are they comparable per period (before and after NY)?</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#yes-in-the-four-weeks-split-they-buy-comparable-categories-but-not-over-the-entire-period-the-two-periods-thus-differ-from-each-other">Yes, in the four weeks (split) they buy comparable categories (but not over the entire period, the two periods thus differ from each other)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#specific-correlations-introduce-third-variable-day-time-store-time">2.2.4.2. SPECIFIC CORRELATIONS: introduce third variable (day/time/store/time)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">CORRELATION 1: categories vs TIME</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-day">vs day</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-store-name">vs store name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-store-type">vs store type</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">CORRELATION 2: categories vs DAY</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-time">vs time</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">vs store name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">vs store type</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-3-categories-vs-store-name">CORRELATION 3: categories vs store name</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">vs time</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregating-afternoon-and-evening-too-few-evening-values">Aggregating afternoon and evening (too few evening values)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">vs day</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-4-categories-vs-store-type">CORRELATION 4: categories vs store TYPE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">vs time</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">vs day</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-dataframes-per-store-name-time">2.2.4.3. New dataframes per store name &amp; time</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-albert-heijn">Time dataframes for ALBERT HEIJN</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-sys">Time dataframes for SYS</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-okay">Time dataframes for OKAY</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-delhaize">Time dataframes for DELHAIZE</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-versavel-poelman">Time dataframes for VERSAVEL POELMAN</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-kruidvat">Time dataframes for KRUIDVAT</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-brabo">Time dataframes for BRABO</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-ikea">Time dataframes for IKEA</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-carrefour">Time dataframes for CARREFOUR</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-item-types">2.2.5. WHAT ITEM TYPES?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Load and view data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">2.2.5.1. GENERAL CORRELATIONS: time/day/storetype-name</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-1-item-type-vs-day">CORRELATION 1: item type vs day</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-2-item-type-vs-time">CORRELATION 2: item type vs time</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-3-item-type-vs-store">CORRELATION 3: item type vs store</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#item-type-vs-store-type">item type vs store type</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#item-type-vs-store-name">item type vs store name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#item-type-vs-promo">item type vs promo</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#if-for-promo-1-0">(if for promo #1&gt;#0)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-down-dataframe">2.2.5.2. Narrow down dataframe</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-day">Per DAY</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-time">Per TIME</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregate-time">Aggregate time</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-store-type">Per STORE TYPE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#for-supermarkets-per-day">FOR SUPERMARKETS: Per DAY</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-store-name">Per STORE NAME</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="labeling-structuring-and-visualizing-the-data">
<h1>2. Labeling, structuring and visualizing the data<a class="headerlink" href="#labeling-structuring-and-visualizing-the-data" title="Permalink to this heading">#</a></h1>
<p>In this step, we wanted to gain an understanding of how the collected data could inform ML-generated predictions. To do so, we started by organizing and structuring the datasets so that they could be used to create meaningful visualizations, and to enable its interpretation by an algorithm. Where necessary, we added labels that add a layer of meaningful information to the data for the algorithm to use. For the grocery automation case study, we poured the data into a full dataset of all items bought by each individual household. Examples of labels that were added to the data are: an identification of what types of items each item name signified (e.g., “Old Goudse 45+” is cheese); an identification of what type of store the items were bought at (e.g., “Albert Heijn” is a supermarket), and assigning a category to which each item belongs (e.g., milk is a dairy product).</p>
<p>In this notebook we:</p>
<ol class="arabic simple">
<li><p>Import the library/dataframe and recode/add all required variables (2.1 Labeling and structuring)</p></li>
<li><p>Generate visualizations and correlations to analyze the data (2.2 Visualizing)</p></li>
</ol>
<!-- 1. build grid: when do/dont they shop, how many times, on which day...
2. define priliminaries for algorithm
3. define filters for algorithm
4. RUN algorithm 


----


Outcome (example):
1. input: rows of dow shopped
2. output: 0,1,2,0,0,1,0 --><section id="labeling-and-structuring">
<h2>2.1. Labeling and structuring<a class="headerlink" href="#labeling-and-structuring" title="Permalink to this heading">#</a></h2>
<section id="import-libraries">
<h3>Import libraries<a class="headerlink" href="#import-libraries" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %matplotlib notebook</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#Pandas is a software library written for the Python programming language for data manipulation and analysis.</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1">#NumPy is a library for the Python programming language, adding support for large, multi-dimensional arrays and matrices, along with a large collection of high-level mathematical functions to operate on these arrays</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1"># Matplotlib is a plotting library for python and pyplot gives us a MatLab like plotting framework. We will use this in our plotter function to plot data.</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1">#Seaborn is a Python data visualization library based on matplotlib. It provides a high-level interface for drawing attractive and informative statistical graphics</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">StrMethodFormatter</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_blobs</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span><span class="p">,</span> <span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span><span class="p">,</span> <span class="n">export_graphviz</span><span class="p">,</span> <span class="n">plot_tree</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">chi2_contingency</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="load-and-view-data">
<h3>Load and view data<a class="headerlink" href="#load-and-view-data" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold.csv&quot;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">]])</span>
<span class="c1"># del df[&quot;HH&quot;]</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_3462/2439137942.py:1: FutureWarning: Support for nested sequences for &#39;parse_dates&#39; in pd.read_csv is deprecated. Combine the desired columns with pd.to_datetime after parsing instead.
  df = pd.read_csv (r&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold.csv&quot;, parse_dates=[[&#39;date&#39;, &#39;timestamp&#39;]])
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold.csv&quot;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">]])</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1"># del df[&quot;HH&quot;]</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/plenty-in-the-pantry--3J3HE2a-py3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1024,</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, date_format, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options, dtype_backend)</span>
<span class="g g-Whitespace">   </span><span class="mi">1011</span> <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1012</span>     <span class="n">dialect</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1013</span>     <span class="n">delimiter</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1020</span>     <span class="n">dtype_backend</span><span class="o">=</span><span class="n">dtype_backend</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1021</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1022</span> <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1024</span> <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/plenty-in-the-pantry--3J3HE2a-py3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py:618,</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">615</span> <span class="n">_validate_names</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">617</span> <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">618</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">620</span> <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">621</span>     <span class="k">return</span> <span class="n">parser</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/plenty-in-the-pantry--3J3HE2a-py3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1618,</span> in <span class="ni">TextFileReader.__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1615</span>     <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">1617</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="p">:</span> <span class="n">IOHandles</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">-&gt; </span><span class="mi">1618</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/plenty-in-the-pantry--3J3HE2a-py3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py:1878,</span> in <span class="ni">TextFileReader._make_engine</span><span class="nt">(self, f, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1876</span>     <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1877</span>         <span class="n">mode</span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1878</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="o">=</span> <span class="n">get_handle</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1879</span>     <span class="n">f</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1880</span>     <span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1881</span>     <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1882</span>     <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1883</span>     <span class="n">memory_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;memory_map&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1884</span>     <span class="n">is_text</span><span class="o">=</span><span class="n">is_text</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1885</span>     <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding_errors&quot;</span><span class="p">,</span> <span class="s2">&quot;strict&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1886</span>     <span class="n">storage_options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storage_options&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1887</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1888</span> <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">   </span><span class="mi">1889</span> <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="o">.</span><span class="n">handle</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/plenty-in-the-pantry--3J3HE2a-py3.10/lib/python3.10/site-packages/pandas/io/common.py:873,</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">868</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">869</span>     <span class="c1"># Check whether the filename is to be opened in binary mode.</span>
<span class="g g-Whitespace">    </span><span class="mi">870</span>     <span class="c1"># Binary mode does not support &#39;encoding&#39; and &#39;newline&#39;.</span>
<span class="g g-Whitespace">    </span><span class="mi">871</span>     <span class="k">if</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="s2">&quot;b&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">872</span>         <span class="c1"># Encoding</span>
<span class="ne">--&gt; </span><span class="mi">873</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">874</span>             <span class="n">handle</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">875</span>             <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">876</span>             <span class="n">encoding</span><span class="o">=</span><span class="n">ioargs</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">877</span>             <span class="n">errors</span><span class="o">=</span><span class="n">errors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">878</span>             <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">879</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">880</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">881</span>         <span class="c1"># Binary mode</span>
<span class="g g-Whitespace">    </span><span class="mi">882</span>         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold.csv&#39;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="recode-variables">
<h2>2.1.1. Recode variables<a class="headerlink" href="#recode-variables" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># new row for reordered items </span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;reorder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">item_type</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span>
<span class="c1"># convert reorder row to boolean value</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;reorder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;reorder&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<span class="c1">#create an ID for each item </span>
<span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;item_id&#39;</span><span class="p">:</span><span class="s1">&#39;item_name&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_name&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#create an ID for each type </span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#first make a new column for the amount of items per order</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;order_amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;order_ID&#39;</span><span class="p">)[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
<span class="c1"># make a new column for the price per order</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;order_price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;order_ID&#39;</span><span class="p">)[</span><span class="s1">&#39;price_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;datetime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">date_timestamp</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span><span class="mi">100</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">minute</span>
<span class="c1"># df[&#39;dates_hours&#39;]=df[&#39;dates&#39;].astype(&#39;category&#39;).cat.codes</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;dates_days&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">*</span> <span class="mi">10000</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>date_timestamp    datetime64[ns]
week                       int64
order_ID                   int64
item_name                 object
amount                     int64
price_unit               float64
price_total              float64
day                       object
time                      object
store_type                object
store_name                object
promo                      int64
item_type                 object
category                  object
reorder                     bool
item_id                    int64
type_id                    int64
order_amount               int64
order_price              float64
datetime          datetime64[ns]
times_min                  int32
dates_days                 int32
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Recode object variable types to integers, to enable functions in next cell:</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;promo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;promo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;type_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;type_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Recode categorical values to cat codes:</span>

<span class="c1"># Recode dow</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;day_num&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="c1"># Recode store_type</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;storetype_num&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="c1"># Recode store_name</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;storename_num&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="c1"># Recode categories</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;cat_num&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="c1"># Recode time</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;time_num&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="c1"># Recode time</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;promo_num&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;promo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>date_timestamp    datetime64[ns]
week                       int64
order_ID                   int64
item_name                 object
amount                     int64
price_unit               float64
price_total              float64
day                       object
time                      object
store_type                object
store_name                object
promo                       bool
item_type                 object
category                  object
reorder                     bool
item_id                    int64
type_id                    int64
order_amount               int64
order_price              float64
datetime          datetime64[ns]
times_min                  int32
dates_days                 int32
day_num                     int8
storetype_num               int8
storename_num               int8
cat_num                     int8
time_num                    int8
promo_num                   int8
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df[&#39;item_name&#39;] = df[&#39;item_name&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;date&#39;] = df[&#39;date&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;day&#39;] = df[&#39;day&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;time&#39;] = df[&#39;time&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;timestamp&#39;] = df[&#39;timestamp&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;store_type&#39;] = df[&#39;store_type&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;store_name&#39;] = df[&#39;store_name&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;item_type&#39;] = df[&#39;item_type&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df[&#39;category&#39;] = df[&#39;category&#39;].astype(&#39;string&#39;)</span>
<span class="c1"># df.dtypes</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="save-the-final-dataframe-as-a-new-csv-file">
<h2>2.1.2. Save the final dataframe as a new csv file<a class="headerlink" href="#save-the-final-dataframe-as-a-new-csv-file" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># df.drop([&quot;storename_num&quot;, &#39;cat_num&#39;, &#39;time_num&#39;, &#39;promo_num&#39;, &#39;timestamp&#39;], axis=1, inplace=True)</span>
<span class="c1"># df.drop([&#39;day_num&#39;, &#39;storetype_num&#39;, &#39;reorder&#39;], axis=1, inplace=True)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date_timestamp</th>
      <th>week</th>
      <th>order_ID</th>
      <th>item_name</th>
      <th>amount</th>
      <th>price_unit</th>
      <th>price_total</th>
      <th>day</th>
      <th>time</th>
      <th>store_type</th>
      <th>...</th>
      <th>order_price</th>
      <th>datetime</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>day_num</th>
      <th>storetype_num</th>
      <th>storename_num</th>
      <th>cat_num</th>
      <th>time_num</th>
      <th>promo_num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-11-23 12:32:00</td>
      <td>1</td>
      <td>1</td>
      <td>RABEKO choco light 250g</td>
      <td>2</td>
      <td>2.82</td>
      <td>5.64</td>
      <td>Tuesday</td>
      <td>noon</td>
      <td>supermarket</td>
      <td>...</td>
      <td>16.77</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>5</td>
      <td>4</td>
      <td>6</td>
      <td>2</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-11-23 12:32:00</td>
      <td>1</td>
      <td>1</td>
      <td>JOYVALLE pudding griesmeel natuur 135g</td>
      <td>4</td>
      <td>0.99</td>
      <td>3.96</td>
      <td>Tuesday</td>
      <td>noon</td>
      <td>supermarket</td>
      <td>...</td>
      <td>16.77</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>5</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-11-23 12:32:00</td>
      <td>1</td>
      <td>1</td>
      <td>BONI tomatensoep met balletjes 950ml</td>
      <td>1</td>
      <td>1.99</td>
      <td>1.99</td>
      <td>Tuesday</td>
      <td>noon</td>
      <td>supermarket</td>
      <td>...</td>
      <td>16.77</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>5</td>
      <td>4</td>
      <td>6</td>
      <td>3</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-11-23 12:32:00</td>
      <td>1</td>
      <td>1</td>
      <td>LIEBIG DELISOUP 9 groenten brik 1L</td>
      <td>1</td>
      <td>2.59</td>
      <td>2.59</td>
      <td>Tuesday</td>
      <td>noon</td>
      <td>supermarket</td>
      <td>...</td>
      <td>16.77</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>5</td>
      <td>4</td>
      <td>6</td>
      <td>3</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-11-23 12:32:00</td>
      <td>1</td>
      <td>1</td>
      <td>LIEBIG DELISOUP tom. Balletjes brik 1L</td>
      <td>1</td>
      <td>2.59</td>
      <td>2.59</td>
      <td>Tuesday</td>
      <td>noon</td>
      <td>supermarket</td>
      <td>...</td>
      <td>16.77</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>5</td>
      <td>4</td>
      <td>6</td>
      <td>3</td>
      <td>3</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 28 columns</p>
</div></div></div>
</div>
</section>
<section id="visualizing">
<h2>2.2. Visualizing<a class="headerlink" href="#visualizing" title="Permalink to this heading">#</a></h2>
<p>Now that we have a structured dataset, we can visualize it to try to identify patterns in the data, and look for statistical correlations. The patterns that are found in the dataset inform the order in which the predictions would be structured. For instance, once we know on which days the households may shop, we can identify another variable has the highest correlation to the day variable. If that variable would for instance be the type of store, then this becomes the next variable we could look at (i.e., if day is a predictor for store type, subsequently store type may be a predictor for amount of items bought, and so on).</p>
<p>In this section we:</p>
<ol class="arabic simple">
<li><p>Create &amp; export a confusion matrix</p></li>
<li><p>Analyze visualizations and correlations for all relevant variables</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_corr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_corr</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;item_name&#39;</span><span class="p">,</span><span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>  <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="c1"># use the corr function to display the correlation between all the features</span>
<span class="n">data_corr</span> <span class="o">=</span> <span class="n">df_corr</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="n">data_corr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>week</th>
      <th>order_ID</th>
      <th>amount</th>
      <th>price_unit</th>
      <th>price_total</th>
      <th>promo</th>
      <th>reorder</th>
      <th>item_id</th>
      <th>type_id</th>
      <th>order_amount</th>
      <th>order_price</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>day_num</th>
      <th>storetype_num</th>
      <th>storename_num</th>
      <th>cat_num</th>
      <th>time_num</th>
      <th>promo_num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>week</th>
      <td>1.000000</td>
      <td>0.985217</td>
      <td>-0.048140</td>
      <td>0.094480</td>
      <td>5.483121e-02</td>
      <td>-0.008244</td>
      <td>0.330432</td>
      <td>0.881411</td>
      <td>4.026260e-01</td>
      <td>-0.246177</td>
      <td>-0.149259</td>
      <td>-0.220200</td>
      <td>0.771482</td>
      <td>0.016479</td>
      <td>0.042430</td>
      <td>-0.233660</td>
      <td>0.129407</td>
      <td>0.433118</td>
      <td>-0.008244</td>
    </tr>
    <tr>
      <th>order_ID</th>
      <td>0.985217</td>
      <td>1.000000</td>
      <td>-0.052335</td>
      <td>0.110078</td>
      <td>7.109832e-02</td>
      <td>-0.019118</td>
      <td>0.344680</td>
      <td>0.887316</td>
      <td>3.938631e-01</td>
      <td>-0.222712</td>
      <td>-0.089577</td>
      <td>-0.327922</td>
      <td>0.804647</td>
      <td>0.000649</td>
      <td>0.018148</td>
      <td>-0.183174</td>
      <td>0.126383</td>
      <td>0.484745</td>
      <td>-0.019118</td>
    </tr>
    <tr>
      <th>amount</th>
      <td>-0.048140</td>
      <td>-0.052335</td>
      <td>1.000000</td>
      <td>-0.209230</td>
      <td>1.654026e-01</td>
      <td>-0.048528</td>
      <td>0.007978</td>
      <td>-0.102130</td>
      <td>-8.178184e-02</td>
      <td>-0.012126</td>
      <td>-0.062437</td>
      <td>-0.049977</td>
      <td>-0.071387</td>
      <td>0.163514</td>
      <td>-0.112660</td>
      <td>0.171548</td>
      <td>-0.298535</td>
      <td>0.044981</td>
      <td>-0.048528</td>
    </tr>
    <tr>
      <th>price_unit</th>
      <td>0.094480</td>
      <td>0.110078</td>
      <td>-0.209230</td>
      <td>1.000000</td>
      <td>8.995332e-01</td>
      <td>0.183813</td>
      <td>0.075232</td>
      <td>0.106368</td>
      <td>4.860249e-02</td>
      <td>-0.038828</td>
      <td>0.033066</td>
      <td>-0.084926</td>
      <td>0.083845</td>
      <td>0.071248</td>
      <td>0.061079</td>
      <td>-0.066105</td>
      <td>0.147618</td>
      <td>0.083835</td>
      <td>0.183813</td>
    </tr>
    <tr>
      <th>price_total</th>
      <td>0.054831</td>
      <td>0.071098</td>
      <td>0.165403</td>
      <td>0.899533</td>
      <td>1.000000e+00</td>
      <td>0.179947</td>
      <td>0.069005</td>
      <td>0.049907</td>
      <td>-1.783440e-07</td>
      <td>-0.052157</td>
      <td>0.012791</td>
      <td>-0.126275</td>
      <td>0.046190</td>
      <td>0.133835</td>
      <td>0.002398</td>
      <td>0.011269</td>
      <td>0.013796</td>
      <td>0.121559</td>
      <td>0.179947</td>
    </tr>
    <tr>
      <th>promo</th>
      <td>-0.008244</td>
      <td>-0.019118</td>
      <td>-0.048528</td>
      <td>0.183813</td>
      <td>1.799472e-01</td>
      <td>1.000000</td>
      <td>0.030826</td>
      <td>-0.018680</td>
      <td>8.213454e-02</td>
      <td>-0.079861</td>
      <td>-0.017329</td>
      <td>0.040621</td>
      <td>-0.033650</td>
      <td>0.033664</td>
      <td>0.136420</td>
      <td>-0.234044</td>
      <td>0.148676</td>
      <td>0.086898</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>reorder</th>
      <td>0.330432</td>
      <td>0.344680</td>
      <td>0.007978</td>
      <td>0.075232</td>
      <td>6.900537e-02</td>
      <td>0.030826</td>
      <td>1.000000</td>
      <td>0.237370</td>
      <td>-4.185553e-01</td>
      <td>-0.308477</td>
      <td>-0.244908</td>
      <td>-0.211008</td>
      <td>0.256427</td>
      <td>0.076217</td>
      <td>-0.243438</td>
      <td>0.096743</td>
      <td>-0.031300</td>
      <td>0.264991</td>
      <td>0.030826</td>
    </tr>
    <tr>
      <th>item_id</th>
      <td>0.881411</td>
      <td>0.887316</td>
      <td>-0.102130</td>
      <td>0.106368</td>
      <td>4.990737e-02</td>
      <td>-0.018680</td>
      <td>0.237370</td>
      <td>1.000000</td>
      <td>4.876312e-01</td>
      <td>-0.151355</td>
      <td>-0.029236</td>
      <td>-0.258153</td>
      <td>0.711302</td>
      <td>0.007337</td>
      <td>0.092249</td>
      <td>-0.217612</td>
      <td>0.190643</td>
      <td>0.377275</td>
      <td>-0.018680</td>
    </tr>
    <tr>
      <th>type_id</th>
      <td>0.402626</td>
      <td>0.393863</td>
      <td>-0.081782</td>
      <td>0.048602</td>
      <td>-1.783440e-07</td>
      <td>0.082135</td>
      <td>-0.418555</td>
      <td>0.487631</td>
      <td>1.000000e+00</td>
      <td>0.157968</td>
      <td>0.218124</td>
      <td>0.009918</td>
      <td>0.275822</td>
      <td>0.047117</td>
      <td>0.348181</td>
      <td>-0.249594</td>
      <td>0.214586</td>
      <td>0.070541</td>
      <td>0.082135</td>
    </tr>
    <tr>
      <th>order_amount</th>
      <td>-0.246177</td>
      <td>-0.222712</td>
      <td>-0.012126</td>
      <td>-0.038828</td>
      <td>-5.215661e-02</td>
      <td>-0.079861</td>
      <td>-0.308477</td>
      <td>-0.151355</td>
      <td>1.579680e-01</td>
      <td>1.000000</td>
      <td>0.920514</td>
      <td>0.243048</td>
      <td>-0.210005</td>
      <td>-0.123082</td>
      <td>0.658377</td>
      <td>-0.022564</td>
      <td>0.131176</td>
      <td>-0.366648</td>
      <td>-0.079861</td>
    </tr>
    <tr>
      <th>order_price</th>
      <td>-0.149259</td>
      <td>-0.089577</td>
      <td>-0.062437</td>
      <td>0.033066</td>
      <td>1.279142e-02</td>
      <td>-0.017329</td>
      <td>-0.244908</td>
      <td>-0.029236</td>
      <td>2.181239e-01</td>
      <td>0.920514</td>
      <td>1.000000</td>
      <td>0.064796</td>
      <td>-0.074029</td>
      <td>-0.168639</td>
      <td>0.677992</td>
      <td>-0.131859</td>
      <td>0.189426</td>
      <td>-0.194701</td>
      <td>-0.017329</td>
    </tr>
    <tr>
      <th>times_min</th>
      <td>-0.220200</td>
      <td>-0.327922</td>
      <td>-0.049977</td>
      <td>-0.084926</td>
      <td>-1.262749e-01</td>
      <td>0.040621</td>
      <td>-0.211008</td>
      <td>-0.258153</td>
      <td>9.917873e-03</td>
      <td>0.243048</td>
      <td>0.064796</td>
      <td>1.000000</td>
      <td>-0.291386</td>
      <td>-0.316375</td>
      <td>0.348492</td>
      <td>-0.390154</td>
      <td>0.134480</td>
      <td>-0.741985</td>
      <td>0.040621</td>
    </tr>
    <tr>
      <th>dates_days</th>
      <td>0.771482</td>
      <td>0.804647</td>
      <td>-0.071387</td>
      <td>0.083845</td>
      <td>4.619038e-02</td>
      <td>-0.033650</td>
      <td>0.256427</td>
      <td>0.711302</td>
      <td>2.758221e-01</td>
      <td>-0.210005</td>
      <td>-0.074029</td>
      <td>-0.291386</td>
      <td>1.000000</td>
      <td>-0.197257</td>
      <td>0.062080</td>
      <td>-0.182963</td>
      <td>0.088114</td>
      <td>0.308242</td>
      <td>-0.033650</td>
    </tr>
    <tr>
      <th>day_num</th>
      <td>0.016479</td>
      <td>0.000649</td>
      <td>0.163514</td>
      <td>0.071248</td>
      <td>1.338352e-01</td>
      <td>0.033664</td>
      <td>0.076217</td>
      <td>0.007337</td>
      <td>4.711688e-02</td>
      <td>-0.123082</td>
      <td>-0.168639</td>
      <td>-0.316375</td>
      <td>-0.197257</td>
      <td>1.000000</td>
      <td>-0.069984</td>
      <td>0.332089</td>
      <td>-0.078327</td>
      <td>0.375540</td>
      <td>0.033664</td>
    </tr>
    <tr>
      <th>storetype_num</th>
      <td>0.042430</td>
      <td>0.018148</td>
      <td>-0.112660</td>
      <td>0.061079</td>
      <td>2.397553e-03</td>
      <td>0.136420</td>
      <td>-0.243438</td>
      <td>0.092249</td>
      <td>3.481810e-01</td>
      <td>0.658377</td>
      <td>0.677992</td>
      <td>0.348492</td>
      <td>0.062080</td>
      <td>-0.069984</td>
      <td>1.000000</td>
      <td>-0.471853</td>
      <td>0.344400</td>
      <td>-0.229209</td>
      <td>0.136420</td>
    </tr>
    <tr>
      <th>storename_num</th>
      <td>-0.233660</td>
      <td>-0.183174</td>
      <td>0.171548</td>
      <td>-0.066105</td>
      <td>1.126945e-02</td>
      <td>-0.234044</td>
      <td>0.096743</td>
      <td>-0.217612</td>
      <td>-2.495939e-01</td>
      <td>-0.022564</td>
      <td>-0.131859</td>
      <td>-0.390154</td>
      <td>-0.182963</td>
      <td>0.332089</td>
      <td>-0.471853</td>
      <td>1.000000</td>
      <td>-0.297761</td>
      <td>0.159855</td>
      <td>-0.234044</td>
    </tr>
    <tr>
      <th>cat_num</th>
      <td>0.129407</td>
      <td>0.126383</td>
      <td>-0.298535</td>
      <td>0.147618</td>
      <td>1.379622e-02</td>
      <td>0.148676</td>
      <td>-0.031300</td>
      <td>0.190643</td>
      <td>2.145862e-01</td>
      <td>0.131176</td>
      <td>0.189426</td>
      <td>0.134480</td>
      <td>0.088114</td>
      <td>-0.078327</td>
      <td>0.344400</td>
      <td>-0.297761</td>
      <td>1.000000</td>
      <td>-0.091360</td>
      <td>0.148676</td>
    </tr>
    <tr>
      <th>time_num</th>
      <td>0.433118</td>
      <td>0.484745</td>
      <td>0.044981</td>
      <td>0.083835</td>
      <td>1.215591e-01</td>
      <td>0.086898</td>
      <td>0.264991</td>
      <td>0.377275</td>
      <td>7.054108e-02</td>
      <td>-0.366648</td>
      <td>-0.194701</td>
      <td>-0.741985</td>
      <td>0.308242</td>
      <td>0.375540</td>
      <td>-0.229209</td>
      <td>0.159855</td>
      <td>-0.091360</td>
      <td>1.000000</td>
      <td>0.086898</td>
    </tr>
    <tr>
      <th>promo_num</th>
      <td>-0.008244</td>
      <td>-0.019118</td>
      <td>-0.048528</td>
      <td>0.183813</td>
      <td>1.799472e-01</td>
      <td>1.000000</td>
      <td>0.030826</td>
      <td>-0.018680</td>
      <td>8.213454e-02</td>
      <td>-0.079861</td>
      <td>-0.017329</td>
      <td>0.040621</td>
      <td>-0.033650</td>
      <td>0.033664</td>
      <td>0.136420</td>
      <td>-0.234044</td>
      <td>0.148676</td>
      <td>0.086898</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="days">
<h2>2.2.1. DAYS<a class="headerlink" href="#days" title="Permalink to this heading">#</a></h2>
<section id="is-there-a-correlation-between-day-of-week-and-week">
<h3>Is there a correlation between day (of week) and week?<a class="headerlink" href="#is-there-a-correlation-between-day-of-week-and-week" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="c1"># dropping all duplicate rows </span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/4243164004.py:5: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>week</th>
      <th>order_ID</th>
      <th>store_name</th>
      <th>storename_num</th>
      <th>store_type</th>
      <th>storetype_num</th>
      <th>day</th>
      <th>day_num</th>
      <th>time</th>
      <th>time_num</th>
      <th>date_timestamp</th>
      <th>datetime</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>order_amount</th>
      <th>order_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>Okay</td>
      <td>6</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Tuesday</td>
      <td>5</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-23 12:32:00</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>9</td>
      <td>16.77000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1</td>
      <td>2</td>
      <td>Sys</td>
      <td>7</td>
      <td>bakery</td>
      <td>0</td>
      <td>Tuesday</td>
      <td>5</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-23 12:39:00</td>
      <td>2021-11-23 12:39:00</td>
      <td>1239</td>
      <td>20211123</td>
      <td>7</td>
      <td>6.10000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>3</td>
      <td>Albert Heijn</td>
      <td>0</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Wednesday</td>
      <td>6</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-24 12:32:00</td>
      <td>2021-11-24 12:32:00</td>
      <td>1232</td>
      <td>20211124</td>
      <td>2</td>
      <td>6.99000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1</td>
      <td>4</td>
      <td>Delhaize</td>
      <td>3</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Friday</td>
      <td>0</td>
      <td>afternoon</td>
      <td>0</td>
      <td>2021-11-26 17:25:00</td>
      <td>2021-11-26 17:25:00</td>
      <td>1725</td>
      <td>20211126</td>
      <td>50</td>
      <td>103.32998</td>
    </tr>
    <tr>
      <th>54</th>
      <td>2</td>
      <td>5</td>
      <td>Albert Heijn</td>
      <td>0</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Wednesday</td>
      <td>6</td>
      <td>morning</td>
      <td>2</td>
      <td>2021-12-01 11:43:00</td>
      <td>2021-12-01 11:43:00</td>
      <td>1143</td>
      <td>20211201</td>
      <td>1</td>
      <td>3.99000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and WEEK</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>33</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>35</td>
      <td>24</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>31</td>
      <td>13</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>8</td>
      <td>45</td>
      <td>0</td>
      <td>0</td>
      <td>33</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>31</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>2</td>
      <td>4</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>28</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 9.109126005834029e-167
</pre></div>
</div>
</div>
</div>
<p>There is no correlation: more indication of a pattern?</p>
<section id="can-we-check-whether-shopping-days-are-predictable-over-longer-time-periods">
<h4>Can we check whether shopping days are predictable over longer time periods?<a class="headerlink" href="#can-we-check-whether-shopping-days-are-predictable-over-longer-time-periods" title="Permalink to this heading">#</a></h4>
<p>(e.g.: every two weeks, they go shopping in the weekend)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Let&#39;s try grouping per two (consecutive) dats</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and WEEK</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>33</td>
      <td>8</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>0</td>
      <td>32</td>
      <td>48</td>
      <td>24</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>8</td>
      <td>51</td>
      <td>31</td>
      <td>0</td>
      <td>36</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>30</td>
      <td>4</td>
      <td>0</td>
      <td>6</td>
      <td>0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 1.796540407278029e-89
</pre></div>
</div>
</div>
</div>
<p>Still significant!</p>
<blockquote>
<div><p>Let’s try even vs uneven weeks</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/2553066901.py:4: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace= True)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>week</th>
      <th>order_ID</th>
      <th>store_name</th>
      <th>storename_num</th>
      <th>store_type</th>
      <th>storetype_num</th>
      <th>day</th>
      <th>day_num</th>
      <th>time</th>
      <th>time_num</th>
      <th>date_timestamp</th>
      <th>datetime</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>order_amount</th>
      <th>order_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>Okay</td>
      <td>6</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Tuesday</td>
      <td>5</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-23 12:32:00</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>9</td>
      <td>16.77000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1</td>
      <td>2</td>
      <td>Sys</td>
      <td>7</td>
      <td>bakery</td>
      <td>0</td>
      <td>Tuesday</td>
      <td>5</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-23 12:39:00</td>
      <td>2021-11-23 12:39:00</td>
      <td>1239</td>
      <td>20211123</td>
      <td>7</td>
      <td>6.10000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>3</td>
      <td>Albert Heijn</td>
      <td>0</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Wednesday</td>
      <td>6</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-24 12:32:00</td>
      <td>2021-11-24 12:32:00</td>
      <td>1232</td>
      <td>20211124</td>
      <td>2</td>
      <td>6.99000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1</td>
      <td>4</td>
      <td>Delhaize</td>
      <td>3</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Friday</td>
      <td>0</td>
      <td>afternoon</td>
      <td>0</td>
      <td>2021-11-26 17:25:00</td>
      <td>2021-11-26 17:25:00</td>
      <td>1725</td>
      <td>20211126</td>
      <td>50</td>
      <td>103.32998</td>
    </tr>
    <tr>
      <th>54</th>
      <td>2</td>
      <td>5</td>
      <td>Albert Heijn</td>
      <td>0</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Wednesday</td>
      <td>6</td>
      <td>morning</td>
      <td>2</td>
      <td>2021-12-01 11:43:00</td>
      <td>2021-12-01 11:43:00</td>
      <td>1143</td>
      <td>20211201</td>
      <td>1</td>
      <td>3.99000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Let&#39;s try grouping per even and uneven weeks</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and WEEK</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>46</td>
      <td>10</td>
      <td>50</td>
      <td>35</td>
      <td>27</td>
      <td>41</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>28</td>
      <td>37</td>
      <td>49</td>
      <td>36</td>
      <td>3</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 9.398907783384561e-17
</pre></div>
</div>
</div>
</div>
<p>Not significant!</p>
<blockquote>
<div><p>Even weeks are not different from uneven weeks</p>
</div></blockquote>
<p>Are the first 4 weeks different from the last 4?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/216159670.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>week</th>
      <th>order_ID</th>
      <th>store_name</th>
      <th>storename_num</th>
      <th>store_type</th>
      <th>storetype_num</th>
      <th>day</th>
      <th>day_num</th>
      <th>time</th>
      <th>time_num</th>
      <th>date_timestamp</th>
      <th>datetime</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>order_amount</th>
      <th>order_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>Okay</td>
      <td>6</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Tuesday</td>
      <td>5</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-23 12:32:00</td>
      <td>2021-11-23 12:32:00</td>
      <td>1232</td>
      <td>20211123</td>
      <td>9</td>
      <td>16.77000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1</td>
      <td>2</td>
      <td>Sys</td>
      <td>7</td>
      <td>bakery</td>
      <td>0</td>
      <td>Tuesday</td>
      <td>5</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-23 12:39:00</td>
      <td>2021-11-23 12:39:00</td>
      <td>1239</td>
      <td>20211123</td>
      <td>7</td>
      <td>6.10000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>3</td>
      <td>Albert Heijn</td>
      <td>0</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Wednesday</td>
      <td>6</td>
      <td>noon</td>
      <td>3</td>
      <td>2021-11-24 12:32:00</td>
      <td>2021-11-24 12:32:00</td>
      <td>1232</td>
      <td>20211124</td>
      <td>2</td>
      <td>6.99000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1</td>
      <td>4</td>
      <td>Delhaize</td>
      <td>3</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Friday</td>
      <td>0</td>
      <td>afternoon</td>
      <td>0</td>
      <td>2021-11-26 17:25:00</td>
      <td>2021-11-26 17:25:00</td>
      <td>1725</td>
      <td>20211126</td>
      <td>50</td>
      <td>103.32998</td>
    </tr>
    <tr>
      <th>54</th>
      <td>2</td>
      <td>5</td>
      <td>Albert Heijn</td>
      <td>0</td>
      <td>supermarket</td>
      <td>4</td>
      <td>Wednesday</td>
      <td>6</td>
      <td>morning</td>
      <td>2</td>
      <td>2021-12-01 11:43:00</td>
      <td>2021-12-01 11:43:00</td>
      <td>1143</td>
      <td>20211201</td>
      <td>1</td>
      <td>3.99000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group per period 1 and 2</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and WEEK</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>week</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>47</td>
      <td>38</td>
      <td>87</td>
      <td>84</td>
      <td>63</td>
      <td>44</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 1.0
</pre></div>
</div>
</div>
</div>
<p>The first period is different from the second period!</p>
<blockquote>
<div><p>Are the weeks in both periods comparable?</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># split up df to first and second period</span>
<span class="n">df_period1</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">df_period2</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/1345932649.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and WEEK</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_period1</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_period1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_period2</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_period2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 1 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 2 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test 1 is: 0.09498230637829978
The P-Value of the ChiSq Test 2 is: 0.4171961359445621
</pre></div>
</div>
</div>
</div>
<p>Not significant: the shopping days are quite the same for each period</p>
<blockquote>
<div><p>In November/December, different from January/February.</p>
</div></blockquote>
</section>
<section id="grid-for-dow-week-descriptions">
<h4>Grid for dow/week &amp; descriptions<a class="headerlink" href="#grid-for-dow-week-descriptions" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="n">days</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_dow</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>

<span class="c1"># grouping the variables for week, day and unique order id&#39;s</span>
<span class="n">df_dow</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_dow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_dow</span><span class="p">)</span>
<span class="n">df_dow</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="c1"># make grid for days vs. week</span>
<span class="n">df_dowgrid1</span> <span class="o">=</span> <span class="n">df_dow</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="n">df_dowgrid1</span> <span class="o">=</span> <span class="n">df_dowgrid1</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_dowgrid1</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_dowgrid1</span>

<span class="c1"># second grid to generate extra variables</span>
<span class="n">df_dowgrid2</span> <span class="o">=</span> <span class="n">df_dowgrid1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">del</span> <span class="n">df_dowgrid2</span><span class="p">[</span><span class="s2">&quot;week&quot;</span><span class="p">]</span>
<span class="c1"># column for total grocery visits</span>
<span class="n">df_dowgrid1</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dowgrid2</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># column for total days shopped</span>
<span class="n">df_dowgrid1</span><span class="p">[</span><span class="s1">&#39;ndays&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dowgrid2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># column for median visits/week</span>
<span class="n">df_dowgrid1</span><span class="p">[</span><span class="s1">&#39;med&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_dowgrid2</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">df_dowgrid1</span> <span class="o">=</span> <span class="n">df_dowgrid1</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_dowgrid1</span> <span class="o">=</span> <span class="n">df_dowgrid1</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df_dowgrid1</span><span class="o">.</span> <span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span> <span class="n">nan</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>week</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>sum</th>
      <th>ndays</th>
      <th>med</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>3</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>3</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>4</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>3</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>7.0</td>
      <td>3</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>3</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>3</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>4</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="generate-randomized-weeks">
<h4>Generate randomized weeks<a class="headerlink" href="#generate-randomized-weeks" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">period1</span><span class="p">():</span>
    <span class="c1"># split up df to first and second period</span>
    <span class="n">df_period1</span> <span class="o">=</span> <span class="n">df_dowgrid1</span><span class="p">[</span><span class="n">df_dowgrid1</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">]</span>

    <span class="k">del</span> <span class="n">df_period1</span><span class="p">[</span><span class="s2">&quot;week&quot;</span><span class="p">]</span>
    <span class="n">df_period1</span> <span class="o">=</span> <span class="n">df_period1</span><span class="o">.</span> <span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span> <span class="n">nan</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df_period1</span>

<span class="k">def</span> <span class="nf">period2</span><span class="p">():</span>
    <span class="c1"># split up df to first and second period</span>
    <span class="n">df_period2</span> <span class="o">=</span> <span class="n">df_dowgrid1</span><span class="p">[</span><span class="n">df_dowgrid1</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">]</span>

    <span class="k">del</span> <span class="n">df_period2</span><span class="p">[</span><span class="s2">&quot;week&quot;</span><span class="p">]</span>
    <span class="n">df_period2</span> <span class="o">=</span> <span class="n">df_period2</span><span class="o">.</span> <span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span> <span class="n">nan</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df_period2</span>
    <span class="k">return</span> <span class="n">dataframe</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">period1</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>sum</th>
      <th>ndays</th>
      <th>med</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>3</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>3</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>4</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>3</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">period2</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>sum</th>
      <th>ndays</th>
      <th>med</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>2</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>2</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>4</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_period1</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_period1.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_period2</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_period2.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="store-type-name">
<h2>2.2.2. STORE TYPE/NAME<a class="headerlink" href="#store-type-name" title="Permalink to this heading">#</a></h2>
<section id="check-correlation-per-store-type">
<h3>check correlation per store TYPE<a class="headerlink" href="#check-correlation-per-store-type" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3008102859.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_nunique</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_nunique</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_nunique</span><span class="p">)</span>
<span class="n">df_nunique</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_nunique</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_nunique</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>


<span class="c1">#order x and y axis chronologically</span>
<span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
<span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="n">order</span><span class="p">)</span>
<span class="n">df_nunique</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="c1"># select the x and y features</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="c1"># select the x feature</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="c1"># select the y feature</span>

<span class="c1"># select the feature that decides the colors</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span> <span class="c1"># select the color column</span>

<span class="c1"># select the feature that will decide the size of the circle (and divide the value by 1000 for reshaping in the plot)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span> <span class="c1"># select the column for the size and divide it by 1000 (/ 1000)</span>

<span class="c1"># fit the points with the scatter function</span>
<span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;pastel&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>

<span class="c1">#repeat ChiSq value</span>
<span class="n">current_corr</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># give the graph a title and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;store&#39;</span><span class="p">)</span>
<span class="c1"># plt.title(f&quot;The correlation between day &amp; store type (r={current_corr})&quot;)</span>

<span class="c1"># call the graph (show function)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/50ab64c327114a8b7fa9fd6ac5eebab0ec98a96f1054b59ced7ea0b046be5e25.png" src="_images/50ab64c327114a8b7fa9fd6ac5eebab0ec98a96f1054b59ced7ea0b046be5e25.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">])</span>

<span class="n">df_orders</span><span class="o">=</span><span class="n">df_orders</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>
<span class="c1"># Cross tabulation between DAY and STORE TYPE</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/953044637.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = pd.Categorical(df_orders[&#39;day&#39;], [&#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;, &#39;Saturday&#39;, &#39;Sunday&#39;])
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
    </tr>
    <tr>
      <th>store_type</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>6</td>
    </tr>
    <tr>
      <th>butcher</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>drugstore</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>furniture store</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>supermarket</th>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.12180896115549811
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekday&#39;</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekend&#39;</span><span class="p">)</span>

<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;drugstore&#39;</span><span class="p">,</span> <span class="s1">&#39;furniture store&#39;</span><span class="p">],</span> <span class="s1">&#39;other&#39;</span><span class="p">)</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="c1"># df_orders[&#39;store_type&#39;] = df_orders[&#39;store_type&#39;].replace([&#39;bakery&#39;, &#39;butcher&#39;], &#39;bakery/butcher&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/1020497717.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
/tmp/ipykernel_19722/1020497717.py:6: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = df_orders[&#39;day&#39;].replace([&#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;], &#39;weekday&#39;)
/tmp/ipykernel_19722/1020497717.py:7: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = df_orders[&#39;day&#39;].replace([&#39;Saturday&#39;, &#39;Sunday&#39;], &#39;weekend&#39;)
/tmp/ipykernel_19722/1020497717.py:10: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;store_type&#39;] = df_orders[&#39;store_type&#39;].replace([&#39;drugstore&#39;, &#39;furniture store&#39;], &#39;other&#39;)
/tmp/ipykernel_19722/1020497717.py:11: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop(df_orders[df_orders[&#39;store_type&#39;]== &#39;other&#39;].index, inplace = True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and STORE NAME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>weekday</th>
      <th>weekend</th>
    </tr>
    <tr>
      <th>store_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>4</td>
      <td>9</td>
    </tr>
    <tr>
      <th>butcher</th>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>supermarket</th>
      <td>17</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.04
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">f_oneway</span>

<span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_orders</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;store_type&#39;</span><span class="p">)</span>

<span class="c1"># Finds out the Prices data for each FuelType as a list</span>
<span class="n">CategoryGroupLists</span><span class="o">=</span><span class="n">df_orders</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;store_type&#39;</span><span class="p">)[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="c1"># Performing the ANOVA test</span>
<span class="c1"># We reject the Assumption(H0) only when P-Value &lt; 0.05</span>
<span class="n">AnovaResults</span> <span class="o">=</span> <span class="n">f_oneway</span><span class="p">(</span><span class="o">*</span><span class="n">CategoryGroupLists</span><span class="p">)</span>
<span class="c1"># get the correlation between both variables</span>
<span class="n">current_corr</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">AnovaResults</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># give the graph a title and labels</span>
<span class="c1"># plt.title(f&quot;The Anova P-value between store type &amp; time = (r={current_corr})&quot;)</span>

<span class="c1"># call the graph (show function)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a18cb98c344db85e8cab267022028a290d9d32d2caf0dcfbca86351af8e7ddac.png" src="_images/a18cb98c344db85e8cab267022028a290d9d32d2caf0dcfbca86351af8e7ddac.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;times&#39;</span><span class="p">,</span> <span class="s1">&#39;dates&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>  
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1230</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;morning&#39;</span>
    <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1230</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;afternoon&#39;</span>
    
    
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;drugstore&#39;</span><span class="p">,</span> <span class="s1">&#39;furniture store&#39;</span><span class="p">],</span> <span class="s1">&#39;other&#39;</span><span class="p">)</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="c1"># df_orders[&#39;store_type&#39;] = df_orders[&#39;store_type&#39;].replace([&#39;bakery&#39;, &#39;butcher&#39;], &#39;bakery/butcher&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and STORE NAME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>morning</th>
    </tr>
    <tr>
      <th>store_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>1</td>
      <td>11</td>
    </tr>
    <tr>
      <th>butcher</th>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>supermarket</th>
      <td>12</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.02
</pre></div>
</div>
</div>
</div>
<p>Let’s get more specific:</p>
</section>
<section id="check-correlation-per-store-name">
<h3>check correlation per store NAME<a class="headerlink" href="#check-correlation-per-store-name" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3008102859.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and STORE NAME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>store_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Albert Heijn</th>
      <td>1</td>
      <td>4</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Brabo</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Carrefour</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Delhaize</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Ikea</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Kruidvat</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Okay</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Sys</th>
      <td>0</td>
      <td>1</td>
      <td>3</td>
      <td>6</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>Versavel Poelman</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.018625083641719886
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekday&#39;</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekend&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3053546036.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = df_orders[&#39;day&#39;].replace([&#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;], &#39;weekday&#39;)
/tmp/ipykernel_19722/3053546036.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = df_orders[&#39;day&#39;].replace([&#39;Saturday&#39;, &#39;Sunday&#39;], &#39;weekend&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and STORE NAME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>weekday</th>
      <th>weekend</th>
    </tr>
    <tr>
      <th>store_name</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Albert Heijn</th>
      <td>11</td>
      <td>1</td>
    </tr>
    <tr>
      <th>Brabo</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Carrefour</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>Delhaize</th>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>Ikea</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Kruidvat</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Okay</th>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>Sys</th>
      <td>4</td>
      <td>9</td>
    </tr>
    <tr>
      <th>Versavel Poelman</th>
      <td>1</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.05468270714825682
</pre></div>
</div>
</div>
</div>
<p>This p-value is low enough to be a significant correlation!</p>
<blockquote>
<div><p>e.g.: if it’s Wednesday, they will probably go shopping at Albert Heijn</p>
</div></blockquote>
</section>
<section id="visualize-stores-per-day-all">
<h3>Visualize stores per day (ALL)<a class="headerlink" href="#visualize-stores-per-day-all" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_nunique</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_nunique</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_nunique</span><span class="p">)</span>
<span class="n">df_nunique</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_nunique</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_nunique</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>

<span class="c1">#order x and y axis chronologically</span>
<span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
<span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="n">order</span><span class="p">)</span>
<span class="n">df_nunique</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="c1"># select the x and y features</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="c1"># select the x feature</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span><span class="c1"># select the y feature</span>

<span class="c1"># select the feature that decides the colors</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span> <span class="c1"># select the color column</span>

<span class="c1"># select the feature that will decide the size of the circle (and divide the value by 1000 for reshaping in the plot)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df_nunique</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span> <span class="c1"># select the column for the size and divide it by 1000 (/ 1000)</span>

<span class="c1"># fit the points with the scatter function</span>
<span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;pastel&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>

<span class="c1">#repeat ChiSq value</span>
<span class="n">current_corr</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># give the graph a title and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The correlation between day &amp; store name (r=</span><span class="si">{</span><span class="n">current_corr</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># call the graph (show function)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/630ed69c26c45383971530d395164e6eb61215c3b5c7d82a1ec61c17da8045e7.png" src="_images/630ed69c26c45383971530d395164e6eb61215c3b5c7d82a1ec61c17da8045e7.png" />
</div>
</div>
</section>
<section id="conclusion">
<h3>CONCLUSION<a class="headerlink" href="#conclusion" title="Permalink to this heading">#</a></h3>
<p>We now have our first TWO givens:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>It is <b>day X</b></p></li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>The HH will shop at <b>store name X</b></p></li>
</ol>
</section>
</section>
<section id="time">
<h2>2.2.3. TIME<a class="headerlink" href="#time" title="Permalink to this heading">#</a></h2>
<section id="id1">
<h3>Load and view data<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>

<span class="c1"># del df[&quot;HH&quot;]</span>
<span class="c1"># df.describe(include=&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="day-vs-time-all-orders">
<h3>2.2.3.1 DAY vs TIME (all orders)<a class="headerlink" href="#day-vs-time-all-orders" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3008102859.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>afternoon</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>evening</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>morning</th>
      <td>1</td>
      <td>2</td>
      <td>5</td>
      <td>10</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>noon</th>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.04771363640670546
</pre></div>
</div>
</div>
</div>
<section id="let-s-try-check-continuous-time-vs-day">
<h4>Let’s try check continuous time vs day<a class="headerlink" href="#let-s-try-check-continuous-time-vs-day" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f_oneway() function takes the group data as input and </span>
<span class="c1"># returns F-statistic and P-value</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">f_oneway</span>
 
<span class="c1"># Assumption(H0) is that day and times are NOT correlated</span>
 
<span class="c1"># Finds out the Prices data for each FuelType as a list</span>
<span class="n">CategoryGroupLists</span><span class="o">=</span><span class="n">df_orders</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">)[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
 
<span class="c1"># Performing the ANOVA test</span>
<span class="c1"># We reject the Assumption(H0) only when P-Value &lt; 0.05</span>
<span class="n">AnovaResults</span> <span class="o">=</span> <span class="n">f_oneway</span><span class="p">(</span><span class="o">*</span><span class="n">CategoryGroupLists</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;P-Value for Anova is: &#39;</span><span class="p">,</span> <span class="n">AnovaResults</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>P-Value for Anova is:  0.03708811627447745
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">])</span>

<span class="n">df_orders</span><span class="o">=</span><span class="n">df_orders</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>

<span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_orders</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>

<span class="c1"># get the Pearson correlation between both variables</span>
<span class="n">current_corr</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">AnovaResults</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># give the graph a title and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The Anova P-value between day &amp; time = (r=</span><span class="si">{</span><span class="n">current_corr</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># call the graph (show function)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/349155757.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = pd.Categorical(df_orders[&#39;day&#39;], [&#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;, &#39;Saturday&#39;, &#39;Sunday&#39;])
</pre></div>
</div>
<img alt="_images/468876e5506d94e2128c39bec528b0d9d593f547745bec7a78054c03835c92d6.png" src="_images/468876e5506d94e2128c39bec528b0d9d593f547745bec7a78054c03835c92d6.png" />
</div>
</div>
</section>
<section id="let-s-try-afternoon-and-evening-as-one-group">
<h4>Let’s try afternoon and evening as one group<a class="headerlink" href="#let-s-try-afternoon-and-evening-as-one-group" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="c1"># df_orders[&#39;time&#39;] = df_orders[&#39;time&#39;].replace([&#39;afternoon&#39;, &#39;evening&#39;], &#39;afternoon&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3008102859.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>  
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1230</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;morning&#39;</span>
    <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1230</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;afternoon&#39;</span>
    
    
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/4135232976.py:8: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;time&#39;] = df.apply(lambda row: categorize(row), axis=1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">])</span>

<span class="n">df_orders</span><span class="o">=</span><span class="n">df_orders</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>
<span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3347993778.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders[&#39;day&#39;] = pd.Categorical(df_orders[&#39;day&#39;], [&#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;, &#39;Saturday&#39;, &#39;Sunday&#39;])
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>afternoon</th>
      <td>3</td>
      <td>3</td>
      <td>2</td>
      <td>5</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>morning</th>
      <td>3</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>2</td>
      <td>5</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.042338911247426364
</pre></div>
</div>
</div>
</div>
</section>
<section id="let-s-try-grouping-weekdays-and-weekends">
<h4>Let’s try grouping weekdays and weekends<a class="headerlink" href="#let-s-try-grouping-weekdays-and-weekends" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekday&#39;</span><span class="p">)</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekend&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3053546036.py:2: FutureWarning: The behavior of Series.replace (and DataFrame.replace) with CategoricalDtype is deprecated. In a future version, replace will only be used for cases that preserve the categories. To change the categories, use ser.cat.rename_categories instead.
  df_orders[&#39;day&#39;] = df_orders[&#39;day&#39;].replace([&#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;], &#39;weekday&#39;)
/tmp/ipykernel_19722/3053546036.py:3: FutureWarning: The behavior of Series.replace (and DataFrame.replace) with CategoricalDtype is deprecated. In a future version, replace will only be used for cases that preserve the categories. To change the categories, use ser.cat.rename_categories instead.
  df_orders[&#39;day&#39;] = df_orders[&#39;day&#39;].replace([&#39;Saturday&#39;, &#39;Sunday&#39;], &#39;weekend&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>weekday</th>
      <th>weekend</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>afternoon</th>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>morning</th>
      <td>11</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.010054500936513226
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_orders</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>

<span class="c1"># Finds out the Prices data for each FuelType as a list</span>
<span class="n">CategoryGroupLists</span><span class="o">=</span><span class="n">df_orders</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">)[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="c1"># Performing the ANOVA test</span>
<span class="c1"># We reject the Assumption(H0) only when P-Value &lt; 0.05</span>
<span class="n">AnovaResults</span> <span class="o">=</span> <span class="n">f_oneway</span><span class="p">(</span><span class="o">*</span><span class="n">CategoryGroupLists</span><span class="p">)</span>
<span class="c1"># get the correlation between both variables</span>
<span class="n">current_corr</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">AnovaResults</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># give the graph a title and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The Anova P-value between day &amp; time = (r=</span><span class="si">{</span><span class="n">current_corr</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># call the graph (show function)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/2068795086.py:7: FutureWarning: The default of observed=False is deprecated and will be changed to True in a future version of pandas. Pass observed=False to retain current behavior or observed=True to adopt the future default and silence this warning.
  CategoryGroupLists=df_orders.groupby(&#39;day&#39;)[&#39;times_min&#39;].apply(list)
</pre></div>
</div>
<img alt="_images/31da4242199517ea29759b7d4a348312e9d130ead3726a12d8268c51248fa682.png" src="_images/31da4242199517ea29759b7d4a348312e9d130ead3726a12d8268c51248fa682.png" />
</div>
</div>
</section>
</section>
<section id="day-vs-time-specified-store">
<h3>2.2.3.2 DAY VS TIME &#64; SPECIFIED STORE<a class="headerlink" href="#day-vs-time-specified-store" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3008102859.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<section id="now-that-we-know-which-store-we-select-the-correct-store">
<h4>Now that we know which store, we select the correct store<a class="headerlink" href="#now-that-we-know-which-store-we-select-the-correct-store" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">store1</span> <span class="o">=</span> <span class="s1">&#39;Albert Heijn&#39;</span>
<span class="n">store2</span> <span class="o">=</span> <span class="s1">&#39;Sys&#39;</span>
<span class="n">store3</span> <span class="o">=</span> <span class="s1">&#39;Okay&#39;</span>
<span class="n">store4</span> <span class="o">=</span> <span class="s1">&#39;Delhaize&#39;</span>
<span class="n">store5</span> <span class="o">=</span> <span class="s1">&#39;Versavel Poelman&#39;</span>
<span class="n">store6</span> <span class="o">=</span> <span class="s1">&#39;Kruidvat&#39;</span>
<span class="n">store7</span> <span class="o">=</span> <span class="s1">&#39;Brabo&#39;</span>
<span class="n">store8</span> <span class="o">=</span> <span class="s1">&#39;Ikea&#39;</span>
<span class="n">store9</span> <span class="o">=</span> <span class="s1">&#39;Carrefour&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_store1</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store1</span><span class="p">]</span>
<span class="n">df_store2</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store2</span><span class="p">]</span>
<span class="n">df_store3</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store3</span><span class="p">]</span>
<span class="n">df_store4</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store4</span><span class="p">]</span>
<span class="n">df_store5</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store5</span><span class="p">]</span>
<span class="n">df_store6</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store6</span><span class="p">]</span>
<span class="n">df_store7</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store7</span><span class="p">]</span>
<span class="n">df_store8</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store8</span><span class="p">]</span>
<span class="n">df_store9</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store9</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult6</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult7</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult8</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult9</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Saturday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>afternoon</th>
      <td>1</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>evening</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>morning</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>noon</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>
<span class="n">ChiSqResult6</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult6</span><span class="p">)</span>
<span class="n">ChiSqResult7</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult7</span><span class="p">)</span>
<span class="n">ChiSqResult8</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult8</span><span class="p">)</span>
<span class="n">ChiSqResult9</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult9</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 1 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 2 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 3 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 4 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 5 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 6 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult6</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 7 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult7</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 8 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult8</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 9 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test 1 is: 0.536632667900785
The P-Value of the ChiSq Test 2 is: 0.20228164924460146
The P-Value of the ChiSq Test 3 is: 0.35831197157358946
The P-Value of the ChiSq Test 4 is: 0.6650055421020291
The P-Value of the ChiSq Test 5 is: 1.0
The P-Value of the ChiSq Test 6 is: 1.0
The P-Value of the ChiSq Test 7 is: 1.0
The P-Value of the ChiSq Test 8 is: 1.0
The P-Value of the ChiSq Test 9 is: 1.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="let-s-try-store-type">
<h4>Let’s try store type<a class="headerlink" href="#let-s-try-store-type" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">storet1</span> <span class="o">=</span> <span class="s1">&#39;supermarket&#39;</span>
<span class="n">storet2</span> <span class="o">=</span> <span class="s1">&#39;butcher&#39;</span>
<span class="n">storet3</span> <span class="o">=</span> <span class="s1">&#39;bakery&#39;</span>
<span class="n">storet4</span> <span class="o">=</span> <span class="s1">&#39;drugstore&#39;</span>
<span class="n">storet5</span> <span class="o">=</span> <span class="s1">&#39;furniture store&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="n">df_storet2</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet2</span><span class="p">]</span>
<span class="n">df_storet3</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet3</span><span class="p">]</span>
<span class="n">df_storet4</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet4</span><span class="p">]</span>
<span class="n">df_storet5</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet5</span><span class="p">]</span>

<span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult1</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 1 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 2 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 3 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 4 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 5 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test 1 is: 0.2775153859384833
The P-Value of the ChiSq Test 2 is: 0.26146412994911117
The P-Value of the ChiSq Test 3 is: 0.20228164924460146
The P-Value of the ChiSq Test 4 is: 1.0
The P-Value of the ChiSq Test 5 is: 1.0
</pre></div>
</div>
</div>
</div>
<p>WHAT IF WE AGGREGATE BOTH WEEK/WEEKEND &amp; 3 TIMES</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/workspaces/Plenty-in-the-Pantry/database/Groceries_onehousehold1.csv&quot;</span><span class="p">)</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;date_timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_19722/3008102859.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_orders.drop_duplicates(inplace=True)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="c1"># df_storet1 = df_orders[df_orders[&#39;store_name&#39;] == store2]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>afternoon</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>evening</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>morning</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>noon</th>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.2775153859384833
</pre></div>
</div>
</div>
</div>
</section>
<section id="significant-for-store-type-week-weekend-3cat">
<h4>Significant for store type &#64; week/weekend &#64;3cat<a class="headerlink" href="#significant-for-store-type-week-weekend-3cat" title="Permalink to this heading">#</a></h4>
<blockquote>
<div><p>perhaps not very useful?</p>
</div></blockquote>
</section>
</section>
<section id="new-dataframes-per-day">
<h3>2.2.3.3. New Dataframes per day<a class="headerlink" href="#new-dataframes-per-day" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;afternoon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">],</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select only one day</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="s1">&#39;Monday&#39;</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="s1">&#39;Tuesday&#39;</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="s1">&#39;Wednesday&#39;</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="s1">&#39;Thursday&#39;</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="s1">&#39;Friday&#39;</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="s1">&#39;Saturday&#39;</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="s1">&#39;Sunday&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_Monday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Monday&#39;</span><span class="p">]</span>
<span class="n">df_Tuesday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">]</span>
<span class="n">df_Wednesday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">]</span>
<span class="n">df_Thursday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">]</span>
<span class="n">df_Friday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Friday&#39;</span><span class="p">]</span>
<span class="n">df_Saturday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">]</span>
<span class="n">df_Sunday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_Sunday</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>order_ID</th>
      <th>store_name</th>
      <th>storename_num</th>
      <th>store_type</th>
      <th>storetype_num</th>
      <th>day</th>
      <th>day_num</th>
      <th>time</th>
      <th>time_num</th>
      <th>timestamp</th>
      <th>times</th>
      <th>dates</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>order_amount</th>
      <th>order_price</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_Mo</span> <span class="o">=</span> <span class="n">df_Monday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_Mo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_Mo</span><span class="p">)</span>
<span class="n">df_Mo</span> <span class="o">=</span> <span class="n">df_Mo</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_Mo</span> <span class="o">=</span> <span class="n">df_Mo</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_Mo</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_Mo</span> <span class="o">=</span> <span class="n">df_Mo</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_Tu</span> <span class="o">=</span> <span class="n">df_Tuesday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_Tu</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_Tu</span><span class="p">)</span>
<span class="n">df_Tu</span> <span class="o">=</span> <span class="n">df_Tu</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_Tu</span> <span class="o">=</span> <span class="n">df_Tu</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_Tu</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_Tu</span> <span class="o">=</span> <span class="n">df_Tu</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_We</span> <span class="o">=</span> <span class="n">df_Wednesday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_We</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_We</span><span class="p">)</span>
<span class="n">df_We</span> <span class="o">=</span> <span class="n">df_We</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_We</span> <span class="o">=</span> <span class="n">df_We</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_We</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_We</span> <span class="o">=</span> <span class="n">df_We</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_Th</span> <span class="o">=</span> <span class="n">df_Thursday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_Th</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_Th</span><span class="p">)</span>
<span class="n">df_Th</span> <span class="o">=</span> <span class="n">df_Th</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_Th</span> <span class="o">=</span> <span class="n">df_Th</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_Th</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_Th</span> <span class="o">=</span> <span class="n">df_Th</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_Fr</span> <span class="o">=</span> <span class="n">df_Friday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_Fr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_Fr</span><span class="p">)</span>
<span class="n">df_Fr</span> <span class="o">=</span> <span class="n">df_Fr</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_Fr</span> <span class="o">=</span> <span class="n">df_Fr</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_Fr</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_Fr</span> <span class="o">=</span> <span class="n">df_Fr</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_Sa</span> <span class="o">=</span> <span class="n">df_Saturday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_Sa</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_Sa</span><span class="p">)</span>
<span class="n">df_Sa</span> <span class="o">=</span> <span class="n">df_Sa</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_Sa</span> <span class="o">=</span> <span class="n">df_Sa</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_Sa</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_Sa</span> <span class="o">=</span> <span class="n">df_Sa</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_Su</span> <span class="o">=</span> <span class="n">df_Sunday</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_Su</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_Su</span><span class="p">)</span>
<span class="n">df_Su</span> <span class="o">=</span> <span class="n">df_Su</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_Su</span> <span class="o">=</span> <span class="n">df_Su</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_Su</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_Su</span> <span class="o">=</span> <span class="n">df_Su</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_Mo</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_MoTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_Tu</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_TuTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_We</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_WeTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_Th</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_ThTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_Fr</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_FrTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_Sa</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SaTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_Su</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SuTime.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="revising-the-flow-time-after-store-name-defined-day">
<h3>REVISING THE FLOW – TIME AFTER STORE NAME DEFINED (+ day)<a class="headerlink" href="#revising-the-flow-time-after-store-name-defined-day" title="Permalink to this heading">#</a></h3>
</section>
<section id="store-name-vs-time-all-orders">
<h3>2.2.3.4. STORE NAME vs TIME (all orders)<a class="headerlink" href="#store-name-vs-time-all-orders" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_orders</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;store_name&#39;</span><span class="p">,</span> <span class="s1">&#39;storename_num&#39;</span><span class="p">,</span> <span class="s1">&#39;store_type&#39;</span><span class="p">,</span> <span class="s1">&#39;storetype_num&#39;</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;day_num&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;time_num&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;times&#39;</span><span class="p">,</span> <span class="s1">&#39;dates&#39;</span><span class="p">,</span> <span class="s1">&#39;times_min&#39;</span><span class="p">,</span> <span class="s1">&#39;dates_days&#39;</span><span class="p">,</span> <span class="s1">&#39;order_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;order_price&#39;</span><span class="p">]]</span>
<span class="n">df_orders</span> <span class="o">=</span> <span class="n">df_orders</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;afternoon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">],</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>store_name  Albert Heijn  Brabo  Carrefour  Delhaize  Ikea  Kruidvat  Okay  \
time                                                                         
afternoon              1      1          1         1     0         1     3   
morning                3      0          0         2     1         0     2   
noon                   8      0          0         0     0         0     1   

store_name  Sys  Versavel Poelman  
time                               
afternoon     0                 0  
morning      11                 3  
noon          1                 0  
The P-Value of the ChiSq Test is: 0.0017692256955682132
</pre></div>
</div>
</div>
</div>
<section id="for-specified-days">
<h4>For specified days<a class="headerlink" href="#for-specified-days" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select only one day</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="s1">&#39;Monday&#39;</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="s1">&#39;Tuesday&#39;</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="s1">&#39;Wednesday&#39;</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="s1">&#39;Thursday&#39;</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="s1">&#39;Friday&#39;</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="s1">&#39;Saturday&#39;</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="s1">&#39;Sunday&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_Monday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Monday&#39;</span><span class="p">]</span>
<span class="n">df_Tuesday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">]</span>
<span class="n">df_Wednesday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">]</span>
<span class="n">df_Thursday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">]</span>
<span class="n">df_Friday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Friday&#39;</span><span class="p">]</span>
<span class="n">df_Saturday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">]</span>
<span class="n">df_Sunday</span> <span class="o">=</span> <span class="n">df_orders</span><span class="p">[</span><span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">CrosstabResult_Mo</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_Tu</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_We</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_Th</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_Fr</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_Sa</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_Su</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_Th</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>morning</th>
      <th>noon</th>
    </tr>
    <tr>
      <th>store_name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Albert Heijn</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>Brabo</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Okay</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_Mo</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Mo</span><span class="p">)</span>
<span class="n">ChiSqResult_Tu</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tu</span><span class="p">)</span>
<span class="n">ChiSqResult_We</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_We</span><span class="p">)</span>
<span class="n">ChiSqResult_Th</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Th</span><span class="p">)</span>
<span class="n">ChiSqResult_Fr</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Fr</span><span class="p">)</span>
<span class="n">ChiSqResult_Sa</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sa</span><span class="p">)</span>
<span class="n">ChiSqResult_Su</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Su</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Monday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_Mo</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Tuesday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_Tu</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Wednesday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_We</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Thursday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_Th</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Friday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_Fr</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Saturday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_Sa</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for Sunday is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_Su</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test for Monday is: 0.1991482734714558
The P-Value of the ChiSq Test for Tuesday is: 0.2872974951836458
The P-Value of the ChiSq Test for Wednesday is: 0.8194769767775212
The P-Value of the ChiSq Test for Thursday is: 0.2872974951836458
The P-Value of the ChiSq Test for Friday is: 0.19914827347145564
The P-Value of the ChiSq Test for Saturday is: 0.2078735268092497
The P-Value of the ChiSq Test for Sunday is: 1.0
</pre></div>
</div>
</div>
</div>
<section id="id2">
<h5>CONCLUSION<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h5>
</section>
<section id="if-they-go-to-store-x-on-day-y-at-x-time-morning-noon-afternoon">
<h5>If they go to store X (on day Y) =&gt; at X time (morning, noon, afternoon)<a class="headerlink" href="#if-they-go-to-store-x-on-day-y-at-x-time-morning-noon-afternoon" title="Permalink to this heading">#</a></h5>
<p>We now have our first THREE givens:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>It is <b>day X</b>
1. The HH will shop at <b>store name X</b>
2. The HH will shop at <b>time X</b> (related to store)</p></li>
</ol>
</div></blockquote>
</section>
</section>
</section>
</section>
<section id="categories">
<h2>2.2.4. CATEGORIES<a class="headerlink" href="#categories" title="Permalink to this heading">#</a></h2>
<section id="id3">
<h3>Load and view data<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>week</th>
      <th>order_ID</th>
      <th>amount</th>
      <th>price_unit</th>
      <th>price_total</th>
      <th>item_id</th>
      <th>type_id</th>
      <th>order_amount</th>
      <th>order_price</th>
      <th>day_num</th>
      <th>storetype_num</th>
      <th>storename_num</th>
      <th>cat_num</th>
      <th>time_num</th>
      <th>promo_num</th>
      <th>timestamp</th>
      <th>times_min</th>
      <th>dates_days</th>
      <th>weights_itemtype</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>372.000000</td>
      <td>3.720000e+02</td>
      <td>372.000000</td>
      <td>3.720000e+02</td>
      <td>372.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.043011</td>
      <td>18.881720</td>
      <td>1.274194</td>
      <td>2.602328</td>
      <td>2.867247</td>
      <td>148.889785</td>
      <td>49.142473</td>
      <td>30.381720</td>
      <td>68.919265</td>
      <td>2.661290</td>
      <td>3.392473</td>
      <td>4.212366</td>
      <td>7.462366</td>
      <td>1.387097</td>
      <td>0.083333</td>
      <td>1.639888e+18</td>
      <td>1353.930108</td>
      <td>2.021425e+07</td>
      <td>7.166667</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.478648</td>
      <td>10.908193</td>
      <td>1.103819</td>
      <td>1.947725</td>
      <td>2.019200</td>
      <td>89.778771</td>
      <td>36.052576</td>
      <td>16.118312</td>
      <td>36.489459</td>
      <td>1.591184</td>
      <td>1.344550</td>
      <td>2.396214</td>
      <td>4.079557</td>
      <td>0.896621</td>
      <td>0.276758</td>
      <td>1.924092e+15</td>
      <td>371.187009</td>
      <td>4.252837e+03</td>
      <td>7.281714</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.064680</td>
      <td>0.064680</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>2.950000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.637435e+18</td>
      <td>802.000000</td>
      <td>2.021112e+07</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.000000</td>
      <td>8.000000</td>
      <td>1.000000</td>
      <td>1.300000</td>
      <td>1.543970</td>
      <td>68.750000</td>
      <td>22.000000</td>
      <td>13.000000</td>
      <td>25.571500</td>
      <td>2.000000</td>
      <td>4.000000</td>
      <td>3.000000</td>
      <td>6.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.637948e+18</td>
      <td>1055.000000</td>
      <td>2.021113e+07</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>4.000000</td>
      <td>20.000000</td>
      <td>1.000000</td>
      <td>2.240250</td>
      <td>2.462860</td>
      <td>142.500000</td>
      <td>35.000000</td>
      <td>34.000000</td>
      <td>72.487014</td>
      <td>3.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>9.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>1.639306e+18</td>
      <td>1179.500000</td>
      <td>2.021121e+07</td>
      <td>4.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>6.000000</td>
      <td>26.250000</td>
      <td>1.000000</td>
      <td>3.290000</td>
      <td>3.875000</td>
      <td>225.250000</td>
      <td>75.250000</td>
      <td>38.000000</td>
      <td>103.329980</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>6.000000</td>
      <td>11.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>1.641640e+18</td>
      <td>1725.000000</td>
      <td>2.022011e+07</td>
      <td>9.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>8.000000</td>
      <td>39.000000</td>
      <td>15.000000</td>
      <td>15.610000</td>
      <td>15.610000</td>
      <td>313.000000</td>
      <td>138.000000</td>
      <td>53.000000</td>
      <td>114.878340</td>
      <td>6.000000</td>
      <td>4.000000</td>
      <td>8.000000</td>
      <td>15.000000</td>
      <td>3.000000</td>
      <td>1.000000</td>
      <td>1.643286e+18</td>
      <td>1858.000000</td>
      <td>2.022013e+07</td>
      <td>25.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use the corr function to display the correlation between all the features</span>
<span class="n">data_corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="c1"># data_corr</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="general-correlations-time-day-storetype-name">
<h3>2.2.4.1. GENERAL CORRELATIONS: time/day/storetype-name<a class="headerlink" href="#general-correlations-time-day-storetype-name" title="Permalink to this heading">#</a></h3>
<section id="correlation-1-categories-vs-time">
<h4>CORRELATION 1: categories vs time<a class="headerlink" href="#correlation-1-categories-vs-time" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>evening</th>
      <th>morning</th>
      <th>noon</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>2</td>
      <td>2</td>
      <td>30</td>
      <td>5</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>9</td>
      <td>3</td>
      <td>14</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>4</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>9</td>
      <td>20</td>
      <td>24</td>
      <td>1</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>3</td>
      <td>1</td>
      <td>12</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>29</td>
      <td>21</td>
      <td>44</td>
      <td>9</td>
    </tr>
    <tr>
      <th>household</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>18</td>
      <td>17</td>
      <td>43</td>
      <td>1</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>1</td>
      <td>6</td>
      <td>7</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.0009275444607973967
</pre></div>
</div>
</div>
</div>
<p>Significant (strong) correlation, we could limit options to what’s bought per time [in a supermarket]</p>
</section>
<section id="correlation-2-categories-vs-day">
<h4>CORRELATION 2: categories vs day<a class="headerlink" href="#correlation-2-categories-vs-day" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>2</td>
      <td>3</td>
      <td>8</td>
      <td>16</td>
      <td>1</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>7</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>3</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>5</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>4</td>
      <td>6</td>
      <td>15</td>
      <td>12</td>
      <td>11</td>
      <td>6</td>
      <td>0</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>23</td>
      <td>10</td>
      <td>24</td>
      <td>21</td>
      <td>12</td>
      <td>9</td>
      <td>4</td>
    </tr>
    <tr>
      <th>household</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>9</td>
      <td>10</td>
      <td>17</td>
      <td>22</td>
      <td>17</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 5.734698007999439e-05
</pre></div>
</div>
</div>
</div>
<p>Significant (strong), we could limit options to what’s bought per day:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Certain cat. are bought on specific days only/mostly</p></li>
</ol>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Could be by chance, but could be on purpose for some categories (e.g. bakery)</p></li>
<li><blockquote>
<div><p>Let’s check if this is also true for only the supermarket/times…</p>
</div></blockquote>
</li>
</ol>
</section>
<section id="correlation-3-categories-vs-store">
<h4>CORRELATION 3: categories vs store<a class="headerlink" href="#correlation-3-categories-vs-store" title="Permalink to this heading">#</a></h4>
<section id="categories-vs-store-type">
<h5>categories vs store type<a class="headerlink" href="#categories-vs-store-type" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_type</th>
      <th>bakery</th>
      <th>butcher</th>
      <th>drugstore</th>
      <th>furniture store</th>
      <th>supermarket</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>32</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>7</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>23</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>52</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>16</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>103</td>
    </tr>
    <tr>
      <th>household</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>2</td>
      <td>25</td>
      <td>0</td>
      <td>0</td>
      <td>52</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 3.330961446189856e-75
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">storet1</span> <span class="o">=</span> <span class="s1">&#39;supermarket&#39;</span>
<span class="n">storet2</span> <span class="o">=</span> <span class="s1">&#39;butcher&#39;</span>
<span class="n">storet3</span> <span class="o">=</span> <span class="s1">&#39;bakery&#39;</span>
<span class="n">storet4</span> <span class="o">=</span> <span class="s1">&#39;drugstore&#39;</span>
<span class="n">storet5</span> <span class="o">=</span> <span class="s1">&#39;furniture store&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="n">df_storet2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet2</span><span class="p">]</span>
<span class="n">df_storet3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet3</span><span class="p">]</span>
<span class="n">df_storet4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet4</span><span class="p">]</span>
<span class="n">df_storet5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResultsuper</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">])</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResultsuper</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResultsuper</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResultsuper</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.0001914415664844846
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">store1</span> <span class="o">=</span> <span class="s1">&#39;Albert Heijn&#39;</span>
<span class="n">store2</span> <span class="o">=</span> <span class="s1">&#39;Carrefour&#39;</span>
<span class="n">store3</span> <span class="o">=</span> <span class="s1">&#39;Okay&#39;</span>
<span class="n">store4</span> <span class="o">=</span> <span class="s1">&#39;Delhaize&#39;</span>
<span class="n">store5</span> <span class="o">=</span> <span class="s1">&#39;Versavel Poelman&#39;</span>
<span class="n">store6</span> <span class="o">=</span> <span class="s1">&#39;Kruidvat&#39;</span>
<span class="n">store7</span> <span class="o">=</span> <span class="s1">&#39;Brabo&#39;</span>
<span class="n">store8</span> <span class="o">=</span> <span class="s1">&#39;Ikea&#39;</span>
<span class="n">store9</span> <span class="o">=</span> <span class="s1">&#39;Sys&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_store1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store1</span><span class="p">]</span>
<span class="n">df_store2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store2</span><span class="p">]</span>
<span class="n">df_store3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store3</span><span class="p">]</span>
<span class="n">df_store4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store4</span><span class="p">]</span>
<span class="n">df_store5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store5</span><span class="p">]</span>
<span class="n">df_store6</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store6</span><span class="p">]</span>
<span class="n">df_store7</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store7</span><span class="p">]</span>
<span class="n">df_store8</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store8</span><span class="p">]</span>
<span class="n">df_store9</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store9</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">])</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.38997620911227765
</pre></div>
</div>
</div>
</div>
</section>
<section id="categories-vs-store-name">
<h5>categories vs store name<a class="headerlink" href="#categories-vs-store-name" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Albert Heijn</th>
      <th>Brabo</th>
      <th>Carrefour</th>
      <th>Delhaize</th>
      <th>Ikea</th>
      <th>Kruidvat</th>
      <th>Okay</th>
      <th>Sys</th>
      <th>Versavel Poelman</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>32</td>
      <td>0</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>10</td>
      <td>2</td>
      <td>1</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>5</td>
      <td>0</td>
      <td>8</td>
      <td>16</td>
      <td>0</td>
      <td>0</td>
      <td>23</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>15</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>19</td>
      <td>0</td>
      <td>12</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>30</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>household</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>23</td>
      <td>0</td>
      <td>0</td>
      <td>19</td>
      <td>2</td>
      <td>19</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>7</td>
      <td>0</td>
      <td>3</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 9.175823149091676e-70
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="correlation-5-categories-vs-week-amounts">
<h4>CORRELATION 5: categories vs week(amounts)<a class="headerlink" href="#correlation-5-categories-vs-week-amounts" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>week</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>12</td>
      <td>3</td>
      <td>4</td>
      <td>8</td>
      <td>3</td>
      <td>3</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>5</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>13</td>
      <td>4</td>
      <td>7</td>
      <td>6</td>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>6</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>7</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>34</td>
      <td>8</td>
      <td>3</td>
      <td>10</td>
      <td>9</td>
      <td>12</td>
      <td>14</td>
      <td>13</td>
    </tr>
    <tr>
      <th>household</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>22</td>
      <td>9</td>
      <td>8</td>
      <td>8</td>
      <td>9</td>
      <td>11</td>
      <td>8</td>
      <td>4</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.017490778823717523
</pre></div>
</div>
</div>
</div>
<p>Per week, the categories vary (they buy different things, thus we cannot use this as a steady limits variable)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group per period 1 and 2</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df2</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">df2</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">])</span>

<span class="c1"># display(CrosstabResult)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.0863724722811156
</pre></div>
</div>
</div>
</div>
<section id="are-they-comparable-per-period-before-and-after-ny">
<h5>Are they comparable per period (before and after NY)?<a class="headerlink" href="#are-they-comparable-per-period-before-and-after-ny" title="Permalink to this heading">#</a></h5>
<p>Before NY (first 4 weeks)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group per period 1 and 2</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df3</span><span class="p">[</span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">])</span>

<span class="c1"># display(CrosstabResult)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.3280478234303163
</pre></div>
</div>
</div>
</div>
<p>After NY (last 4 weeks)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group per period 1 and 2</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">df4</span><span class="p">[</span><span class="n">df4</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df4</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df4</span><span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;H0= they buy from similar categories every week&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>week</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>3</td>
      <td>3</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>4</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>6</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>4</td>
      <td>7</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>9</td>
      <td>12</td>
      <td>14</td>
      <td>13</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>9</td>
      <td>11</td>
      <td>8</td>
      <td>4</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>H0= they buy from similar categories every week
The P-Value of the ChiSq Test is: 0.04545175781024996
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="yes-in-the-four-weeks-split-they-buy-comparable-categories-but-not-over-the-entire-period-the-two-periods-thus-differ-from-each-other">
<h4>Yes, in the four weeks (split) they buy comparable categories (but not over the entire period, the two periods thus differ from each other)<a class="headerlink" href="#yes-in-the-four-weeks-split-they-buy-comparable-categories-but-not-over-the-entire-period-the-two-periods-thus-differ-from-each-other" title="Permalink to this heading">#</a></h4>
</section>
</section>
<section id="specific-correlations-introduce-third-variable-day-time-store-time">
<h3>2.2.4.2. SPECIFIC CORRELATIONS: introduce third variable (day/time/store/time)<a class="headerlink" href="#specific-correlations-introduce-third-variable-day-time-store-time" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="s1">&#39;Monday&#39;</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="s1">&#39;Tuesday&#39;</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="s1">&#39;Wednesday&#39;</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="s1">&#39;Thursday&#39;</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="s1">&#39;Friday&#39;</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="s1">&#39;Saturday&#39;</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="s1">&#39;Sunday&#39;</span>

<span class="c1"># select only these data (for day, store, store name)</span>
<span class="n">df_Monday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Monday</span><span class="p">]</span>
<span class="n">df_Tuesday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Tuesday</span><span class="p">]</span>
<span class="n">df_Wednesday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Wednesday</span><span class="p">]</span>
<span class="n">df_Thursday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Thursday</span><span class="p">]</span>
<span class="n">df_Friday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Friday</span><span class="p">]</span>
<span class="n">df_Saturday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Saturday</span><span class="p">]</span>
<span class="n">df_Sunday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Sunday</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">store1</span> <span class="o">=</span> <span class="s1">&#39;Albert Heijn&#39;</span>
<span class="n">store2</span> <span class="o">=</span> <span class="s1">&#39;Carrefour&#39;</span>
<span class="n">store3</span> <span class="o">=</span> <span class="s1">&#39;Okay&#39;</span>
<span class="n">store4</span> <span class="o">=</span> <span class="s1">&#39;Delhaize&#39;</span>
<span class="n">store5</span> <span class="o">=</span> <span class="s1">&#39;Versavel Poelman&#39;</span>
<span class="n">store6</span> <span class="o">=</span> <span class="s1">&#39;Kruidvat&#39;</span>
<span class="n">store7</span> <span class="o">=</span> <span class="s1">&#39;Brabo&#39;</span>
<span class="n">store8</span> <span class="o">=</span> <span class="s1">&#39;Ikea&#39;</span>
<span class="n">store9</span> <span class="o">=</span> <span class="s1">&#39;Sys&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_store1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store1</span><span class="p">]</span>
<span class="n">df_store2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store2</span><span class="p">]</span>
<span class="n">df_store3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store3</span><span class="p">]</span>
<span class="n">df_store4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store4</span><span class="p">]</span>
<span class="n">df_store5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store5</span><span class="p">]</span>
<span class="n">df_store6</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store6</span><span class="p">]</span>
<span class="n">df_store7</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store7</span><span class="p">]</span>
<span class="n">df_store8</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store8</span><span class="p">]</span>
<span class="n">df_store9</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store9</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">storet1</span> <span class="o">=</span> <span class="s1">&#39;supermarket&#39;</span>
<span class="n">storet2</span> <span class="o">=</span> <span class="s1">&#39;butcher&#39;</span>
<span class="n">storet3</span> <span class="o">=</span> <span class="s1">&#39;bakery&#39;</span>
<span class="n">storet4</span> <span class="o">=</span> <span class="s1">&#39;drugstore&#39;</span>
<span class="n">storet5</span> <span class="o">=</span> <span class="s1">&#39;furniture store&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="n">df_storet2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet2</span><span class="p">]</span>
<span class="n">df_storet3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet3</span><span class="p">]</span>
<span class="n">df_storet4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet4</span><span class="p">]</span>
<span class="n">df_storet5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">morning</span> <span class="o">=</span> <span class="s1">&#39;morning&#39;</span>
<span class="n">noon</span> <span class="o">=</span> <span class="s1">&#39;noon&#39;</span>
<span class="n">afternoon</span> <span class="o">=</span> <span class="s1">&#39;afternoon&#39;</span>
<span class="n">evening</span> <span class="o">=</span> <span class="s1">&#39;evening&#39;</span>


<span class="c1"># select only these data (for time)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">morning</span><span class="p">]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">noon</span><span class="p">]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">afternoon</span><span class="p">]</span>
<span class="n">df_evening</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">evening</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="id4">
<h4>CORRELATION 1: categories vs TIME<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h4>
<section id="vs-day">
<h5>vs day<a class="headerlink" href="#vs-day" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>morning</th>
      <th>noon</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>0</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>1</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>0</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>0</td>
      <td>9</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>0</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.23259221878469416
The P-Value of the ChiSq Test is, for Tuesdays: 0.0002297657965096665
The P-Value of the ChiSq Test is, for Wednesdays: 0.7076604666545525
The P-Value of the ChiSq Test is, for Thursdays: 0.07538266255108712
The P-Value of the ChiSq Test is, for Fridays: 0.3745641597293434
The P-Value of the ChiSq Test is, for Saturdays: 0.0112285699411412
The P-Value of the ChiSq Test is, for Sundays: 1.0
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>On some days it is clear which categories are bought at which times</p></li>
<li><p>On other days, it does not matter what time it is, categories can be bought whenever</p></li>
<li><p>For Sunday, they did not go shopping any other time than in the morning, you thus cant tell if they would buy other categories at other times</p></li>
</ul>
</section>
<section id="vs-store-name">
<h5>vs store name<a class="headerlink" href="#vs-store-name" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult6</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult7</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult8</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult9</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>evening</th>
      <th>morning</th>
      <th>noon</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>3</td>
      <td>1</td>
      <td>7</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>3</td>
      <td>2</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>5</td>
      <td>7</td>
      <td>10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>3</td>
      <td>1</td>
      <td>11</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>7</td>
      <td>2</td>
      <td>21</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>3</td>
      <td>8</td>
      <td>8</td>
      <td>0</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>
<span class="n">ChiSqResult6</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult6</span><span class="p">)</span>
<span class="n">ChiSqResult7</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult7</span><span class="p">)</span>
<span class="n">ChiSqResult8</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult8</span><span class="p">)</span>
<span class="n">ChiSqResult9</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult9</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test AH is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Carrefour is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Okay is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Delhaize is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Versavel Poelman is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Kruidvat is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult6</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Brabo is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult7</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Ikea is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult8</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Sys is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test AH is: 0.1945078374722668
The P-Value of the ChiSq Test Carrefour is: 1.0
The P-Value of the ChiSq Test Okay is: 0.014457083204440009
The P-Value of the ChiSq Test Delhaize is: 0.2470091671494186
The P-Value of the ChiSq Test Versavel Poelman is: 1.0
The P-Value of the ChiSq Test Kruidvat is: 1.0
The P-Value of the ChiSq Test Brabo is: 1.0
The P-Value of the ChiSq Test Ikea is: 1.0
The P-Value of the ChiSq Test Sys is: 0.8574361239388911
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Time vs category would only matter for Okay</p></li>
</ul>
</section>
<section id="vs-store-type">
<h5>vs store type<a class="headerlink" href="#vs-store-type" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test supermarket is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test butcher is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test bakery is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test drugstore is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test furniture store is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test supermarket is: 0.03811345940657114
The P-Value of the ChiSq Test butcher is: 1.0
The P-Value of the ChiSq Test bakery is: 0.8574361239388911
The P-Value of the ChiSq Test drugstore is: 1.0
The P-Value of the ChiSq Test furniture store is: 1.0
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Time vs category does not matter for store type (mostly then for supermarkets)</p></li>
</ul>
</section>
</section>
<section id="id5">
<h4>CORRELATION 2: categories vs DAY<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h4>
<section id="vs-time">
<h5>vs time<a class="headerlink" href="#vs-time" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;afternoon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">],</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">)</span>

<span class="c1"># select only these data (for time)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">morning</span><span class="p">]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">noon</span><span class="p">]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">afternoon</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_noon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult_afternoon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>5</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>4</td>
      <td>5</td>
      <td>9</td>
      <td>11</td>
      <td>0</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>22</td>
      <td>7</td>
      <td>12</td>
      <td>9</td>
      <td>0</td>
    </tr>
    <tr>
      <th>household</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>9</td>
      <td>4</td>
      <td>5</td>
      <td>17</td>
      <td>0</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>3</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_noon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_noon</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for noons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_noon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 1.2460917906544296e-05
The P-Value of the ChiSq Test is, for noons: 0.2882045510024506
The P-Value of the ChiSq Test is, for afternoons: 2.8906339569229197e-06
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>At noon, it does not matter what day it is to buy certain categories</p>
<ul>
<li><p>(E.g., It’s Monday noon, could buy fruit, but could also just buy snacks though they have not done this before.)</p></li>
</ul>
</li>
<li><p>In morning &amp; afternoon: there is a correlation between category &amp; day</p>
<ul>
<li><p>(E.g., Its Sunday morning, most likely they buy bakery items, but probably no canned foods or condiments.)</p></li>
</ul>
</li>
</ul>
</section>
<section id="id6">
<h5>vs store name<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult6</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult7</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult8</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult9</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>2</td>
      <td>8</td>
      <td>15</td>
      <td>4</td>
      <td>3</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>
<span class="n">ChiSqResult6</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult6</span><span class="p">)</span>
<span class="n">ChiSqResult7</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult7</span><span class="p">)</span>
<span class="n">ChiSqResult8</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult8</span><span class="p">)</span>
<span class="n">ChiSqResult9</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult9</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 1 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 2 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 3 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 4 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 5 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 6 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult6</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 7 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult7</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 8 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult8</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 9 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test 1 is: 0.7809578184768486
The P-Value of the ChiSq Test 2 is: 1.0
The P-Value of the ChiSq Test 3 is: 0.31067263237736975
The P-Value of the ChiSq Test 4 is: 0.2470091671494186
The P-Value of the ChiSq Test 5 is: 0.2928571957080218
The P-Value of the ChiSq Test 6 is: 1.0
The P-Value of the ChiSq Test 7 is: 1.0
The P-Value of the ChiSq Test 8 is: 1.0
The P-Value of the ChiSq Test 9 is: 0.8938200079591153
</pre></div>
</div>
</div>
</div>
<p>No correlation. It does not matter in what store they are when buying cat X on day X</p>
</section>
<section id="id7">
<h5>vs store type<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between DAY and TIME</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>Friday</th>
      <th>Monday</th>
      <th>Saturday</th>
      <th>Sunday</th>
      <th>Thursday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>5</td>
      <td>2</td>
      <td>4</td>
      <td>5</td>
      <td>3</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>5</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>4</td>
      <td>5</td>
      <td>14</td>
      <td>12</td>
      <td>11</td>
      <td>6</td>
      <td>0</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>23</td>
      <td>10</td>
      <td>24</td>
      <td>21</td>
      <td>12</td>
      <td>9</td>
      <td>4</td>
    </tr>
    <tr>
      <th>household</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>9</td>
      <td>5</td>
      <td>9</td>
      <td>14</td>
      <td>11</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 1 (supermarkets) is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 2 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 3 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 4 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test 5 is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test 1 (supermarkets) is: 0.0008093719555801397
The P-Value of the ChiSq Test 2 is: 0.3251111450880991
The P-Value of the ChiSq Test 3 is: 0.8938200079591153
The P-Value of the ChiSq Test 4 is: 1.0
The P-Value of the ChiSq Test 5 is: 1.0
</pre></div>
</div>
</div>
</div>
<p>Only for supermarkets, it matters what categories are bought on which day</p>
</section>
</section>
<section id="correlation-3-categories-vs-store-name">
<h4>CORRELATION 3: categories vs store name<a class="headerlink" href="#correlation-3-categories-vs-store-name" title="Permalink to this heading">#</a></h4>
<section id="id8">
<h5>vs time<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_noon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_evening</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_evening</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_evening</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_noon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_noon</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>
<span class="n">ChiSqResult_evening</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_evening</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for noons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_noon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for evenings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_evening</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 5.703089415883286e-38
The P-Value of the ChiSq Test is, for noons: 0.0015602479859569403
The P-Value of the ChiSq Test is, for afternoons: 6.581342550479261e-07
The P-Value of the ChiSq Test is, for evenings: 0.19418484873436417
</pre></div>
</div>
</div>
</div>
</section>
<section id="aggregating-afternoon-and-evening-too-few-evening-values">
<h5>Aggregating afternoon and evening (too few evening values)<a class="headerlink" href="#aggregating-afternoon-and-evening-too-few-evening-values" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;afternoon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">],</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">)</span>

<span class="c1"># select only these data (for time)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">morning</span><span class="p">]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">noon</span><span class="p">]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">afternoon</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_noon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult_afternoon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Albert Heijn</th>
      <th>Brabo</th>
      <th>Carrefour</th>
      <th>Delhaize</th>
      <th>Kruidvat</th>
      <th>Okay</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>5</td>
    </tr>
    <tr>
      <th>care &amp; hyygiene</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>5</td>
      <td>0</td>
      <td>8</td>
      <td>4</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>7</td>
      <td>0</td>
      <td>12</td>
      <td>22</td>
      <td>0</td>
      <td>9</td>
    </tr>
    <tr>
      <th>household</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>4</td>
      <td>6</td>
      <td>5</td>
      <td>9</td>
      <td>0</td>
      <td>11</td>
    </tr>
    <tr>
      <th>non-food</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>pasta &amp; rice</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_noon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_noon</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for noons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_noon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 5.703089415883286e-38
The P-Value of the ChiSq Test is, for noons: 0.0015602479859569403
The P-Value of the ChiSq Test is, for afternoons: 6.581342550479261e-07
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h5>vs day<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Albert Heijn</th>
      <th>Delhaize</th>
      <th>Sys</th>
      <th>Versavel Poelman</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>0</td>
      <td>1</td>
      <td>15</td>
      <td>0</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>0</td>
      <td>5</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>0</td>
      <td>12</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>1</td>
      <td>20</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>0</td>
      <td>14</td>
      <td>1</td>
      <td>7</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.001993863825402251
The P-Value of the ChiSq Test is, for Tuesdays: 1.6933488522738976e-06
The P-Value of the ChiSq Test is, for Wednesdays: 0.23567991342903416
The P-Value of the ChiSq Test is, for Thursdays: 0.0010049249124857089
The P-Value of the ChiSq Test is, for Fridays: 0.3745641597293431
The P-Value of the ChiSq Test is, for Saturdays: 1.9434776505390552e-13
The P-Value of the ChiSq Test is, for Sundays: 1.220410924087907e-11
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="correlation-4-categories-vs-store-type">
<h4>CORRELATION 4: categories vs store TYPE<a class="headerlink" href="#correlation-4-categories-vs-store-type" title="Permalink to this heading">#</a></h4>
<section id="id10">
<h5>vs time<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_noon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_noon</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult_morning</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_type</th>
      <th>bakery</th>
      <th>butcher</th>
      <th>furniture store</th>
      <th>supermarket</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>29</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>12</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>canned foods</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>cooking aid</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>22</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>44</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>2</td>
      <td>19</td>
      <td>0</td>
      <td>22</td>
    </tr>
    <tr>
      <th>nuts, seeds &amp; dried fruit</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_noon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_noon</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for noons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_noon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 1.1973200320848654e-34
The P-Value of the ChiSq Test is, for noons: 0.08238840360323983
The P-Value of the ChiSq Test is, for afternoons: 1.0719187691810818e-07
</pre></div>
</div>
</div>
</div>
</section>
<section id="id11">
<h5>vs day<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_type</th>
      <th>bakery</th>
      <th>butcher</th>
      <th>supermarket</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bakery</th>
      <td>15</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>beverages</th>
      <td>0</td>
      <td>0</td>
      <td>5</td>
    </tr>
    <tr>
      <th>breakfast &amp; spreads</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>condiments</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>dairy &amp; plant based</th>
      <td>0</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <th>frozen foods</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>fruit &amp; vegetables</th>
      <td>0</td>
      <td>0</td>
      <td>21</td>
    </tr>
    <tr>
      <th>meat, fish &amp; veggie</th>
      <td>1</td>
      <td>7</td>
      <td>14</td>
    </tr>
    <tr>
      <th>snacks</th>
      <td>0</td>
      <td>0</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.001993863825402251
The P-Value of the ChiSq Test is, for Tuesdays: 1.6933488522739098e-06
The P-Value of the ChiSq Test is, for Wednesdays: 0.23567991342903416
The P-Value of the ChiSq Test is, for Thursdays: 0.15964689241641922
The P-Value of the ChiSq Test is, for Fridays: 0.0634003157445733
The P-Value of the ChiSq Test is, for Saturdays: 1.2130305684146801e-12
The P-Value of the ChiSq Test is, for Sundays: 8.669795129102298e-13
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="new-dataframes-per-store-name-time">
<h3>2.2.4.3. New dataframes per store name &amp; time<a class="headerlink" href="#new-dataframes-per-store-name-time" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">store1</span> <span class="o">=</span> <span class="s1">&#39;Albert Heijn&#39;</span>
<span class="n">store2</span> <span class="o">=</span> <span class="s1">&#39;Sys&#39;</span>
<span class="n">store3</span> <span class="o">=</span> <span class="s1">&#39;Okay&#39;</span>
<span class="n">store4</span> <span class="o">=</span> <span class="s1">&#39;Delhaize&#39;</span>
<span class="n">store5</span> <span class="o">=</span> <span class="s1">&#39;Versavel Poelman&#39;</span>
<span class="n">store6</span> <span class="o">=</span> <span class="s1">&#39;Kruidvat&#39;</span>
<span class="n">store7</span> <span class="o">=</span> <span class="s1">&#39;Brabo&#39;</span>
<span class="n">store8</span> <span class="o">=</span> <span class="s1">&#39;Ikea&#39;</span>
<span class="n">store9</span> <span class="o">=</span> <span class="s1">&#39;Carrefour&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_AH</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store1</span><span class="p">]</span>
<span class="n">df_SYS</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store2</span><span class="p">]</span>
<span class="n">df_OKAY</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store3</span><span class="p">]</span>
<span class="n">df_DELHAIZE</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store4</span><span class="p">]</span>
<span class="n">df_VERSAVEL</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store5</span><span class="p">]</span>
<span class="n">df_KRUIDVAT</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store6</span><span class="p">]</span>
<span class="n">df_BRABO</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store7</span><span class="p">]</span>
<span class="n">df_IKEA</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store8</span><span class="p">]</span>
<span class="n">df_CARREFOUR</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store9</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="time-dataframes-for-albert-heijn">
<h4>Time dataframes for ALBERT HEIJN<a class="headerlink" href="#time-dataframes-for-albert-heijn" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_AH</span><span class="p">[</span><span class="n">df_AH</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_AH</span><span class="p">[</span><span class="n">df_AH</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_AH</span><span class="p">[</span><span class="n">df_AH</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_noon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>bakery</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fruit &amp; vegetables</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>meat, fish &amp; veggie</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>snacks</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_AHmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_AHnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_AHafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_AHmorn=.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_AHnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_AHafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-sys">
<h4>Time dataframes for SYS<a class="headerlink" href="#time-dataframes-for-sys" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_SYS</span><span class="p">[</span><span class="n">df_SYS</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_SYS</span><span class="p">[</span><span class="n">df_SYS</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_SYS</span><span class="p">[</span><span class="n">df_SYS</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_noon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>bakery</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SYSmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SYSnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SYSafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SYSmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SYSnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_SYSafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-okay">
<h4>Time dataframes for OKAY<a class="headerlink" href="#time-dataframes-for-okay" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_OKAY</span><span class="p">[</span><span class="n">df_OKAY</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_OKAY</span><span class="p">[</span><span class="n">df_OKAY</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_OKAY</span><span class="p">[</span><span class="n">df_OKAY</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_noon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>breakfast &amp; spreads</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>canned foods</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>dairy &amp; plant based</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_OKAYmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_OKAYnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_OKAYafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_OKAYmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_OKAYnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_OKAYafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-delhaize">
<h4>Time dataframes for DELHAIZE<a class="headerlink" href="#time-dataframes-for-delhaize" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_DELHAIZE</span><span class="p">[</span><span class="n">df_DELHAIZE</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_DELHAIZE</span><span class="p">[</span><span class="n">df_DELHAIZE</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_DELHAIZE</span><span class="p">[</span><span class="n">df_DELHAIZE</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>bakery</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>beverages</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>breakfast &amp; spreads</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>condiments</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>dairy &amp; plant based</td>
      <td>2</td>
    </tr>
    <tr>
      <th>5</th>
      <td>frozen foods</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>fruit &amp; vegetables</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>meat, fish &amp; veggie</td>
      <td>2</td>
    </tr>
    <tr>
      <th>8</th>
      <td>snacks</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_DELHmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_DELHnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_DELHafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_DELHmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_DELHnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_DELHafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-versavel-poelman">
<h4>Time dataframes for VERSAVEL POELMAN<a class="headerlink" href="#time-dataframes-for-versavel-poelman" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_VERSAVEL</span><span class="p">[</span><span class="n">df_VERSAVEL</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_VERSAVEL</span><span class="p">[</span><span class="n">df_VERSAVEL</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_VERSAVEL</span><span class="p">[</span><span class="n">df_VERSAVEL</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dairy &amp; plant based</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>meat, fish &amp; veggie</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_VERSmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_VERSnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_VERSafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_VERSmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_VERSnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_VERSafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-kruidvat">
<h4>Time dataframes for KRUIDVAT<a class="headerlink" href="#time-dataframes-for-kruidvat" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_KRUIDVAT</span><span class="p">[</span><span class="n">df_KRUIDVAT</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_KRUIDVAT</span><span class="p">[</span><span class="n">df_KRUIDVAT</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_KRUIDVAT</span><span class="p">[</span><span class="n">df_KRUIDVAT</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_afternoon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>beverages</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>care &amp; hyygiene</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>snacks</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_KRUIDmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_KRUIDnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_KRUIDafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_KRUIDmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_KRUIDnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_KRUIDafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-brabo">
<h4>Time dataframes for BRABO<a class="headerlink" href="#time-dataframes-for-brabo" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_BRABO</span><span class="p">[</span><span class="n">df_BRABO</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_BRABO</span><span class="p">[</span><span class="n">df_BRABO</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_BRABO</span><span class="p">[</span><span class="n">df_BRABO</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_afternoon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>meat, fish &amp; veggie</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_BRAmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_BRAnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_BRAafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_BRAmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_BRAnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_BRAafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-ikea">
<h4>Time dataframes for IKEA<a class="headerlink" href="#time-dataframes-for-ikea" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_IKEA</span><span class="p">[</span><span class="n">df_IKEA</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_IKEA</span><span class="p">[</span><span class="n">df_IKEA</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_IKEA</span><span class="p">[</span><span class="n">df_IKEA</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>beverages</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_IKEAmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_IKEAnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_IKEAafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_IKEAmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_IKEAnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_IKEAafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-dataframes-for-carrefour">
<h4>Time dataframes for CARREFOUR<a class="headerlink" href="#time-dataframes-for-carrefour" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select only these time data for the df_AH</span>
<span class="n">df_mornings</span> <span class="o">=</span> <span class="n">df_CARREFOUR</span><span class="p">[</span><span class="n">df_CARREFOUR</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;morning&#39;</span><span class="p">]</span>
<span class="n">df_noons</span> <span class="o">=</span> <span class="n">df_CARREFOUR</span><span class="p">[</span><span class="n">df_CARREFOUR</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;noon&#39;</span><span class="p">]</span>
<span class="n">df_afternoons</span> <span class="o">=</span> <span class="n">df_CARREFOUR</span><span class="p">[</span><span class="n">df_CARREFOUR</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_mornings</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_morning</span><span class="p">)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_morning</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_morning</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_noon</span><span class="p">)</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_noon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_noon</span> <span class="o">=</span> <span class="n">df_noon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>

<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoons</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;category&#39;</span><span class="p">])[</span><span class="s1">&#39;order_ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">df_afternoon</span><span class="p">)</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df_afternoon</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_afternoon</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;order_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;weight&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_afternoon</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>breakfast &amp; spreads</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>canned foods</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>condiments</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>dairy &amp; plant based</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>fruit &amp; vegetables</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>meat, fish &amp; veggie</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>snacks</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_morning</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_CATmornCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_CATnoonCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoon</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_CARafterCAT.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mornings</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_CATmorn.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_noons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_CATnoon.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_afternoons</span><span class="o">.</span><span class="n">to_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2_CARafter.csv&quot;</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="what-item-types">
<h3>2.2.5. WHAT ITEM TYPES?<a class="headerlink" href="#what-item-types" title="Permalink to this heading">#</a></h3>
</section>
<section id="id12">
<h3>Load and view data<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2.csv&quot;</span><span class="p">)</span>
<span class="c1"># df.describe(include=&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use the corr function to display the correlation between all the features</span>
<span class="n">data_corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="c1"># data_corr</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;afternoon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">],</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">)</span>

<span class="c1"># # select only these data (for time)</span>
<span class="c1"># df_morning = df[df[&quot;time&quot;] == morning]</span>
<span class="c1"># df_noon = df[df[&quot;time&quot;] == noon]</span>
<span class="c1"># df_afternoon = df[df[&quot;time&quot;] == afternoon]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2.csv&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>  
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1300</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;morning&#39;</span>
    <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1300</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;afternoon&#39;</span>    
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>


<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekday&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekend&#39;</span><span class="p">)</span>

<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;drugstore&#39;</span><span class="p">,</span> <span class="s1">&#39;furniture store&#39;</span><span class="p">],</span> <span class="s1">&#39;other&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id13">
<h3>2.2.5.1. GENERAL CORRELATIONS: time/day/storetype-name<a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h3>
<section id="correlation-1-item-type-vs-day">
<h4>CORRELATION 1: item type vs day<a class="headerlink" href="#correlation-1-item-type-vs-day" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>weekday</th>
      <th>weekend</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>124 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.30568678285648604
</pre></div>
</div>
</div>
</div>
<p>Significant (strong), we could limit options to what’s bought per day:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Certain cat. are bought on specific days only/mostly</p></li>
</ol>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Could be by chance, but could be on purpose for some categories (e.g. bakery)</p></li>
<li><blockquote>
<div><p>Let’s check if this is also true for only the supermarket/times…</p>
</div></blockquote>
</li>
</ol>
</section>
<section id="correlation-2-item-type-vs-time">
<h4>CORRELATION 2: item type vs time<a class="headerlink" href="#correlation-2-item-type-vs-time" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>morning</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>124 rows × 2 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.021669974448671504
</pre></div>
</div>
</div>
</div>
<p>Significant (strong) correlation, we could limit options to what’s bought per time [in a supermarket]</p>
</section>
<section id="correlation-3-item-type-vs-store">
<h4>CORRELATION 3: item type vs store<a class="headerlink" href="#correlation-3-item-type-vs-store" title="Permalink to this heading">#</a></h4>
<section id="item-type-vs-store-type">
<h5>item type vs store type<a class="headerlink" href="#item-type-vs-store-type" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span> <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Users\20204113\OneDrive - TU Eindhoven\2_Research\1_Groceries\DATA\9th week - narrative (3rd attempt)\HH2\df\df_HH2.csv&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>  
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1300</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;morning&#39;</span>
    <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;times_min&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1300</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;afternoon&#39;</span>    
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">categorize</span><span class="p">(</span><span class="n">row</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>


<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekday&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">],</span> <span class="s1">&#39;weekend&#39;</span><span class="p">)</span>

<span class="c1"># aggregate afternoon and evening</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;drugstore&#39;</span><span class="p">,</span> <span class="s1">&#39;furniture store&#39;</span><span class="p">],</span> <span class="s1">&#39;other&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_type</th>
      <th>bakery</th>
      <th>butcher</th>
      <th>supermarket</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>0</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>0</td>
      <td>0</td>
      <td>8</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>124 rows × 3 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 1.0805449807658192e-18
</pre></div>
</div>
</div>
</div>
</section>
<section id="item-type-vs-store-name">
<h5>item type vs store name<a class="headerlink" href="#item-type-vs-store-name" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Albert Heijn</th>
      <th>Brabo</th>
      <th>Carrefour</th>
      <th>Delhaize</th>
      <th>Okay</th>
      <th>Sys</th>
      <th>Versavel Poelman</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>124 rows × 7 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 1.2031978186000618e-13
</pre></div>
</div>
</div>
</div>
</section>
<section id="item-type-vs-promo">
<h5>item type vs promo<a class="headerlink" href="#item-type-vs-promo" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;promo_num&#39;</span><span class="p">])</span>

<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>promo_num</th>
      <th>0</th>
      <th>1</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>2</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>126 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is: 0.002051494679643612
</pre></div>
</div>
</div>
</div>
<p>We could separate items that are more often bought in promo and exclude them from regular groceries</p>
</section>
<section id="if-for-promo-1-0">
<h5>(if for promo #1&gt;#0)<a class="headerlink" href="#if-for-promo-1-0" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">CrosstabResult</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">CrosstabResult</span><span class="p">[</span><span class="n">CrosstabResult</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">CrosstabResult</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">CrosstabResult</span> <span class="o">=</span> <span class="n">CrosstabResult</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">CrosstabResult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>promo_num</th>
      <th>item_type</th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>blueberries</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>fish</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>fruit salad</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>lunch</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vegetable box</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>5</th>
      <td>vegetable mix</td>
      <td>1</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span> <span class="o">=</span> <span class="n">CrosstabResult</span><span class="o">.</span><span class="n">item_type</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">options</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;blueberries&#39;,
 &#39;fish&#39;,
 &#39;fruit salad&#39;,
 &#39;lunch&#39;,
 &#39;vegetable box&#39;,
 &#39;vegetable mix&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df with only the promo items</span>
<span class="n">df_promo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">options</span><span class="p">)]</span>

<span class="c1"># Now to delete these item types from the current dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">-</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">options</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="narrow-down-dataframe">
<h3>2.2.5.2. Narrow down dataframe<a class="headerlink" href="#narrow-down-dataframe" title="Permalink to this heading">#</a></h3>
<section id="per-day">
<h4>Per DAY<a class="headerlink" href="#per-day" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="s1">&#39;Monday&#39;</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="s1">&#39;Tuesday&#39;</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="s1">&#39;Wednesday&#39;</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="s1">&#39;Thursday&#39;</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="s1">&#39;Friday&#39;</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="s1">&#39;Saturday&#39;</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="s1">&#39;Sunday&#39;</span>

<span class="c1"># select only these data (for day, store, store name)</span>
<span class="n">df_Monday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Monday</span><span class="p">]</span>
<span class="n">df_Tuesday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Tuesday</span><span class="p">]</span>
<span class="n">df_Wednesday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Wednesday</span><span class="p">]</span>
<span class="n">df_Thursday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Thursday</span><span class="p">]</span>
<span class="n">df_Friday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Friday</span><span class="p">]</span>
<span class="n">df_Saturday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Saturday</span><span class="p">]</span>
<span class="n">df_Sunday</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Sunday</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.06350322576917519
The P-Value of the ChiSq Test is, for Tuesdays: 0.07250903390723971
The P-Value of the ChiSq Test is, for Wednesdays: 0.26829256976484567
The P-Value of the ChiSq Test is, for Thursdays: 0.11240514931002711
The P-Value of the ChiSq Test is, for Fridays: 0.41436379982431387
The P-Value of the ChiSq Test is, for Saturdays: 0.4824965331920248
The P-Value of the ChiSq Test is, for Sundays: 1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.015417418295178956
The P-Value of the ChiSq Test is, for Tuesdays: 0.025016961216351507
The P-Value of the ChiSq Test is, for Wednesdays: 0.07189777249646509
The P-Value of the ChiSq Test is, for Thursdays: 0.9719243231099925
The P-Value of the ChiSq Test is, for Fridays: 0.828413447188954
The P-Value of the ChiSq Test is, for Saturdays: 0.0012157993625802087
The P-Value of the ChiSq Test is, for Sundays: 0.012657105263702418
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.015417418295178946
The P-Value of the ChiSq Test is, for Tuesdays: 0.02501696121635147
The P-Value of the ChiSq Test is, for Wednesdays: 0.07189777249646509
The P-Value of the ChiSq Test is, for Thursdays: 0.3392738454656977
The P-Value of the ChiSq Test is, for Fridays: 0.41436379982431387
The P-Value of the ChiSq Test is, for Saturdays: 0.007913758219579011
The P-Value of the ChiSq Test is, for Sundays: 0.00020139558189761987
</pre></div>
</div>
</div>
</div>
</section>
<section id="per-time">
<h4>Per TIME<a class="headerlink" href="#per-time" title="Permalink to this heading">#</a></h4>
<section id="aggregate-time">
<h5>Aggregate time<a class="headerlink" href="#aggregate-time" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">morning</span> <span class="o">=</span> <span class="s1">&#39;morning&#39;</span>
<span class="n">afternoon</span> <span class="o">=</span> <span class="s1">&#39;afternoon&#39;</span>

<span class="c1"># select only these data (for time)</span>
<span class="n">df_morning</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">morning</span><span class="p">]</span>
<span class="n">df_afternoon</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">afternoon</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 0.10190552895917394
The P-Value of the ChiSq Test is, for afternoons: 0.6609017986818203
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Albert Heijn</th>
      <th>Delhaize</th>
      <th>Okay</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>apple sauce</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>beef</th>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>beer</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>bell peppers</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>blueberries</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>sweet potatoes</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>tomato paste</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>tomatoes</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>78 rows × 3 columns</p>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Albert Heijn</th>
      <th>Carrefour</th>
      <th>Delhaize</th>
      <th>Okay</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>85 rows × 4 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 4.155598267972405e-05
The P-Value of the ChiSq Test is, for afternoons: 0.12009406345795638
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_morning</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_morning</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult_afternoon</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_afternoon</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult_morning</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_morning</span><span class="p">)</span>
<span class="n">ChiSqResult_afternoon</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_afternoon</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for mornings:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_morning</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for afternoons:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult_afternoon</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for mornings: 5.910475058617601e-21
The P-Value of the ChiSq Test is, for afternoons: 0.4628566178672303
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="per-store-type">
<h4>Per STORE TYPE<a class="headerlink" href="#per-store-type" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">storet1</span> <span class="o">=</span> <span class="s1">&#39;supermarket&#39;</span>
<span class="n">storet2</span> <span class="o">=</span> <span class="s1">&#39;butcher&#39;</span>
<span class="n">storet3</span> <span class="o">=</span> <span class="s1">&#39;bakery&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="n">df_storet2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet2</span><span class="p">]</span>
<span class="n">df_storet3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet3</span><span class="p">]</span>


<span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test supermarket is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test butcher is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test bakery is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>morning</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>121 rows × 2 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test supermarket is: 0.10709159613038698
The P-Value of the ChiSq Test butcher is: 0.8540426379636573
The P-Value of the ChiSq Test bakery is: 1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">storet1</span> <span class="o">=</span> <span class="s1">&#39;supermarket&#39;</span>
<span class="n">storet2</span> <span class="o">=</span> <span class="s1">&#39;butcher&#39;</span>
<span class="n">storet3</span> <span class="o">=</span> <span class="s1">&#39;bakery&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="n">df_storet2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet2</span><span class="p">]</span>
<span class="n">df_storet3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet3</span><span class="p">]</span>


<span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for supermarket is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for butcher is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for bakery is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>store_name</th>
      <th>Sys</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bread</th>
      <td>16</td>
    </tr>
    <tr>
      <th>chocolate milk</th>
      <td>1</td>
    </tr>
    <tr>
      <th>danish</th>
      <td>9</td>
    </tr>
    <tr>
      <th>fish spread</th>
      <td>1</td>
    </tr>
    <tr>
      <th>meat spread</th>
      <td>1</td>
    </tr>
    <tr>
      <th>pastry</th>
      <td>2</td>
    </tr>
    <tr>
      <th>sandwich</th>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test for supermarket is: 7.352856440242714e-05
The P-Value of the ChiSq Test for butcher is: 0.8540426379636573
The P-Value of the ChiSq Test for bakery is: 1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to select only one</span>
<span class="n">storet1</span> <span class="o">=</span> <span class="s1">&#39;supermarket&#39;</span>
<span class="n">storet2</span> <span class="o">=</span> <span class="s1">&#39;butcher&#39;</span>
<span class="n">storet3</span> <span class="o">=</span> <span class="s1">&#39;bakery&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_storet1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet1</span><span class="p">]</span>
<span class="n">df_storet2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet2</span><span class="p">]</span>
<span class="n">df_storet3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">storet3</span><span class="p">]</span>


<span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for supermarket is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for butcher is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test for bakery is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>time</th>
      <th>afternoon</th>
      <th>morning</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>121 rows × 2 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test for supermarket is: 0.10709159613038698
The P-Value of the ChiSq Test for butcher is: 0.8540426379636573
The P-Value of the ChiSq Test for bakery is: 1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test supermarket is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test butcher is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test bakery is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>day</th>
      <th>weekday</th>
      <th>weekend</th>
    </tr>
    <tr>
      <th>item_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>alcoholic drinks</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>almond milk</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>andalouse sauce</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>apple sauce</th>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>apples</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>tonic</th>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable box</th>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>vegetable mix</th>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>yoghurt</th>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <th>zucchini</th>
      <td>0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>121 rows × 2 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test supermarket is: 0.40216177152753024
The P-Value of the ChiSq Test butcher is: 0.4657294414929828
The P-Value of the ChiSq Test bakery is: 0.5606668587550803
</pre></div>
</div>
</div>
</div>
<section id="for-supermarkets-per-day">
<h5>FOR SUPERMARKETS: Per DAY<a class="headerlink" href="#for-supermarkets-per-day" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="s1">&#39;Monday&#39;</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="s1">&#39;Tuesday&#39;</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="s1">&#39;Wednesday&#39;</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="s1">&#39;Thursday&#39;</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="s1">&#39;Friday&#39;</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="s1">&#39;Saturday&#39;</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="s1">&#39;Sunday&#39;</span>

<span class="c1"># select only these data (for day, store, store name)</span>
<span class="n">df_Monday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Monday</span><span class="p">]</span>
<span class="n">df_Tuesday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Tuesday</span><span class="p">]</span>
<span class="n">df_Wednesday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Wednesday</span><span class="p">]</span>
<span class="n">df_Thursday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Thursday</span><span class="p">]</span>
<span class="n">df_Friday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Friday</span><span class="p">]</span>
<span class="n">df_Saturday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Saturday</span><span class="p">]</span>
<span class="n">df_Sunday</span> <span class="o">=</span> <span class="n">df_storet1</span><span class="p">[</span><span class="n">df_storet1</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">Sunday</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and store type</span>
<span class="n">CrosstabResult_Monday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Monday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Tuesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Tuesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Wednesday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Wednesday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Thursday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Thursday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Friday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Friday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Saturday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Saturday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">CrosstabResult_Sunday</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_Sunday</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">Monday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Monday</span><span class="p">)</span>
<span class="n">Tuesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Tuesday</span><span class="p">)</span>
<span class="n">Wednesday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Wednesday</span><span class="p">)</span>
<span class="n">Thursday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Thursday</span><span class="p">)</span>
<span class="n">Friday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Friday</span><span class="p">)</span>
<span class="n">Saturday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Saturday</span><span class="p">)</span>
<span class="n">Sunday</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult_Sunday</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Mondays:&#39;</span><span class="p">,</span> <span class="n">Monday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Tuesdays:&#39;</span><span class="p">,</span> <span class="n">Tuesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Wednesdays:&#39;</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Thursdays:&#39;</span><span class="p">,</span> <span class="n">Thursday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Fridays:&#39;</span><span class="p">,</span> <span class="n">Friday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Saturdays:&#39;</span><span class="p">,</span> <span class="n">Saturday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test is, for Sundays:&#39;</span><span class="p">,</span> <span class="n">Sunday</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test is, for Mondays: 0.30230703366974376
The P-Value of the ChiSq Test is, for Tuesdays: 0.17032078946529616
The P-Value of the ChiSq Test is, for Wednesdays: 1.0
The P-Value of the ChiSq Test is, for Thursdays: 0.3031653922712087
The P-Value of the ChiSq Test is, for Fridays: 0.16899600119515576
The P-Value of the ChiSq Test is, for Saturdays: 0.6828607217967628
The P-Value of the ChiSq Test is, for Sundays: 1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet1</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet2</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet3</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet4</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_storet5</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">])</span>


<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>


<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test supermarket is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test butcher is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test bakery is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test drugstore is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test furniture is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test supermarket is: 0.0005536514348982485
The P-Value of the ChiSq Test butcher is: 0.8540426379636573
The P-Value of the ChiSq Test bakery is: 1.0
The P-Value of the ChiSq Test drugstore is: 1.0
The P-Value of the ChiSq Test furniture is: 1.0
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="per-store-name">
<h4>Per STORE NAME<a class="headerlink" href="#per-store-name" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define data</span>
<span class="n">store1</span> <span class="o">=</span> <span class="s1">&#39;Albert Heijn&#39;</span>
<span class="n">store2</span> <span class="o">=</span> <span class="s1">&#39;Carrefour&#39;</span>
<span class="n">store3</span> <span class="o">=</span> <span class="s1">&#39;Okay&#39;</span>
<span class="n">store4</span> <span class="o">=</span> <span class="s1">&#39;Delhaize&#39;</span>
<span class="n">store5</span> <span class="o">=</span> <span class="s1">&#39;Versavel Poelman&#39;</span>
<span class="n">store6</span> <span class="o">=</span> <span class="s1">&#39;Kruidvat&#39;</span>
<span class="n">store7</span> <span class="o">=</span> <span class="s1">&#39;Brabo&#39;</span>
<span class="n">store8</span> <span class="o">=</span> <span class="s1">&#39;Ikea&#39;</span>
<span class="n">store9</span> <span class="o">=</span> <span class="s1">&#39;Sys&#39;</span>

<span class="c1"># select only these data for the df</span>
<span class="n">df_store1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store1</span><span class="p">]</span>
<span class="n">df_store2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store2</span><span class="p">]</span>
<span class="n">df_store3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store3</span><span class="p">]</span>
<span class="n">df_store4</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store4</span><span class="p">]</span>
<span class="n">df_store5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store5</span><span class="p">]</span>
<span class="n">df_store6</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store6</span><span class="p">]</span>
<span class="n">df_store7</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store7</span><span class="p">]</span>
<span class="n">df_store8</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store8</span><span class="p">]</span>
<span class="n">df_store9</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;store_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">store9</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult6</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult7</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult8</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult9</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>
<span class="n">ChiSqResult6</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult6</span><span class="p">)</span>
<span class="n">ChiSqResult7</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult7</span><span class="p">)</span>
<span class="n">ChiSqResult8</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult8</span><span class="p">)</span>
<span class="n">ChiSqResult9</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult9</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test AH is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Carrefour is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Okay is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Delhaize is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Versavel Poelman is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Kruidvat is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult6</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Brabo is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult7</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Ikea is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult8</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Sys is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test AH is: 0.27146301019057517
The P-Value of the ChiSq Test Carrefour is: 1.0
The P-Value of the ChiSq Test Okay is: 0.786598072074264
The P-Value of the ChiSq Test Delhaize is: 0.512171595235117
The P-Value of the ChiSq Test Versavel Poelman is: 1.0
The P-Value of the ChiSq Test Kruidvat is: 1.0
The P-Value of the ChiSq Test Brabo is: 1.0
The P-Value of the ChiSq Test Ikea is: 1.0
The P-Value of the ChiSq Test Sys is: 0.9604070567886343
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cross tabulation between category and day</span>
<span class="n">CrosstabResult1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store1</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store2</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store3</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult4</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store4</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult5</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store5</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult6</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store6</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult7</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store7</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult8</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store8</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>
<span class="n">CrosstabResult9</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;item_type&#39;</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="n">df_store9</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">])</span>

<span class="c1"># Performing Chi-sq test</span>
<span class="n">ChiSqResult1</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult1</span><span class="p">)</span>
<span class="n">ChiSqResult2</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult2</span><span class="p">)</span>
<span class="n">ChiSqResult3</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult3</span><span class="p">)</span>
<span class="n">ChiSqResult4</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult4</span><span class="p">)</span>
<span class="n">ChiSqResult5</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult5</span><span class="p">)</span>
<span class="n">ChiSqResult6</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult6</span><span class="p">)</span>
<span class="n">ChiSqResult7</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult7</span><span class="p">)</span>
<span class="n">ChiSqResult8</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult8</span><span class="p">)</span>
<span class="n">ChiSqResult9</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">CrosstabResult9</span><span class="p">)</span>

<span class="c1"># P-Value is the Probability of H0 being True</span>
<span class="c1"># If P-Value &gt; 0.05 then only we Accept the assumption(H0)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test AH is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Carrefour is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Okay is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Delhaize is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Versavel Poelman is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult5</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Kruidvat is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult6</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Brabo is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult7</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Ikea is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult8</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The P-Value of the ChiSq Test Sys is:&#39;</span><span class="p">,</span> <span class="n">ChiSqResult9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The P-Value of the ChiSq Test AH is: 0.9943296369032215
The P-Value of the ChiSq Test Carrefour is: 1.0
The P-Value of the ChiSq Test Okay is: 0.5209070930125062
The P-Value of the ChiSq Test Delhaize is: 0.512171595235117
The P-Value of the ChiSq Test Versavel Poelman is: 0.5905214502087732
The P-Value of the ChiSq Test Kruidvat is: 1.0
The P-Value of the ChiSq Test Brabo is: 1.0
The P-Value of the ChiSq Test Ikea is: 1.0
The P-Value of the ChiSq Test Sys is: 0.865542455654743
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="1.%20Collecting%20relevant%20data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">1. Collecting relevant data</p>
      </div>
    </a>
    <a class="right-next"
       href="3.%20Assigning%20weights.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">3. Assigning weights</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#labeling-and-structuring">2.1. Labeling and structuring</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">Import libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#load-and-view-data">Load and view data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recode-variables">2.1.1. Recode variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-the-final-dataframe-as-a-new-csv-file">2.1.2. Save the final dataframe as a new csv file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing">2.2. Visualizing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#days">2.2.1. DAYS</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#is-there-a-correlation-between-day-of-week-and-week">Is there a correlation between day (of week) and week?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#can-we-check-whether-shopping-days-are-predictable-over-longer-time-periods">Can we check whether shopping days are predictable over longer time periods?</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grid-for-dow-week-descriptions">Grid for dow/week &amp; descriptions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-randomized-weeks">Generate randomized weeks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#store-type-name">2.2.2. STORE TYPE/NAME</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-correlation-per-store-type">check correlation per store TYPE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-correlation-per-store-name">check correlation per store NAME</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualize-stores-per-day-all">Visualize stores per day (ALL)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">CONCLUSION</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#time">2.2.3. TIME</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Load and view data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#day-vs-time-all-orders">2.2.3.1 DAY vs TIME (all orders)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-check-continuous-time-vs-day">Let’s try check continuous time vs day</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-afternoon-and-evening-as-one-group">Let’s try afternoon and evening as one group</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-grouping-weekdays-and-weekends">Let’s try grouping weekdays and weekends</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#day-vs-time-specified-store">2.2.3.2 DAY VS TIME @ SPECIFIED STORE</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#now-that-we-know-which-store-we-select-the-correct-store">Now that we know which store, we select the correct store</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-try-store-type">Let’s try store type</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#significant-for-store-type-week-weekend-3cat">Significant for store type @ week/weekend @3cat</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-dataframes-per-day">2.2.3.3. New Dataframes per day</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#revising-the-flow-time-after-store-name-defined-day">REVISING THE FLOW – TIME AFTER STORE NAME DEFINED (+ day)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#store-name-vs-time-all-orders">2.2.3.4. STORE NAME vs TIME (all orders)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#for-specified-days">For specified days</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">CONCLUSION</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#if-they-go-to-store-x-on-day-y-at-x-time-morning-noon-afternoon">If they go to store X (on day Y) =&gt; at X time (morning, noon, afternoon)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categories">2.2.4. CATEGORIES</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Load and view data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#general-correlations-time-day-storetype-name">2.2.4.1. GENERAL CORRELATIONS: time/day/storetype-name</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-1-categories-vs-time">CORRELATION 1: categories vs time</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-2-categories-vs-day">CORRELATION 2: categories vs day</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-3-categories-vs-store">CORRELATION 3: categories vs store</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#categories-vs-store-type">categories vs store type</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#categories-vs-store-name">categories vs store name</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-5-categories-vs-week-amounts">CORRELATION 5: categories vs week(amounts)</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#are-they-comparable-per-period-before-and-after-ny">Are they comparable per period (before and after NY)?</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#yes-in-the-four-weeks-split-they-buy-comparable-categories-but-not-over-the-entire-period-the-two-periods-thus-differ-from-each-other">Yes, in the four weeks (split) they buy comparable categories (but not over the entire period, the two periods thus differ from each other)</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#specific-correlations-introduce-third-variable-day-time-store-time">2.2.4.2. SPECIFIC CORRELATIONS: introduce third variable (day/time/store/time)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">CORRELATION 1: categories vs TIME</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-day">vs day</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-store-name">vs store name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-store-type">vs store type</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">CORRELATION 2: categories vs DAY</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#vs-time">vs time</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">vs store name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">vs store type</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-3-categories-vs-store-name">CORRELATION 3: categories vs store name</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">vs time</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregating-afternoon-and-evening-too-few-evening-values">Aggregating afternoon and evening (too few evening values)</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">vs day</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-4-categories-vs-store-type">CORRELATION 4: categories vs store TYPE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">vs time</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">vs day</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-dataframes-per-store-name-time">2.2.4.3. New dataframes per store name &amp; time</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-albert-heijn">Time dataframes for ALBERT HEIJN</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-sys">Time dataframes for SYS</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-okay">Time dataframes for OKAY</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-delhaize">Time dataframes for DELHAIZE</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-versavel-poelman">Time dataframes for VERSAVEL POELMAN</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-kruidvat">Time dataframes for KRUIDVAT</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-brabo">Time dataframes for BRABO</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-ikea">Time dataframes for IKEA</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dataframes-for-carrefour">Time dataframes for CARREFOUR</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-item-types">2.2.5. WHAT ITEM TYPES?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Load and view data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">2.2.5.1. GENERAL CORRELATIONS: time/day/storetype-name</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-1-item-type-vs-day">CORRELATION 1: item type vs day</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-2-item-type-vs-time">CORRELATION 2: item type vs time</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-3-item-type-vs-store">CORRELATION 3: item type vs store</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#item-type-vs-store-type">item type vs store type</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#item-type-vs-store-name">item type vs store name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#item-type-vs-promo">item type vs promo</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#if-for-promo-1-0">(if for promo #1&gt;#0)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#narrow-down-dataframe">2.2.5.2. Narrow down dataframe</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-day">Per DAY</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-time">Per TIME</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregate-time">Aggregate time</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-store-type">Per STORE TYPE</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#for-supermarkets-per-day">FOR SUPERMARKETS: Per DAY</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#per-store-name">Per STORE NAME</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By anonymous
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>